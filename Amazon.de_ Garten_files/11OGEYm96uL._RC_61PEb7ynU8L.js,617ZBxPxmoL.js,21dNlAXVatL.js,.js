(function(b){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,a=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,m,g){b.when("A","imageBlockUtils").register("ImageBlockModel",function(a,e){function p(d,a,c,f,n,k){e.isDefined(d)&&(h.type=d);e.isDefined(a)&&(h.index=a);e.isDefined(c)&&(h.thumbnailIndex=c);e.isDefined(f)&&(h.variant=f);e.isDefined(n)&&(h.color=
n);h.shoppableScene=k||null}function l(a){p("image",0,0,"MAIN",a||n.landingAsinColor||n.defaultColor,null)}function f(d){d=d.data;k=a.copy(h);p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)}function t(d){f(d);d=a.copy(d);d.data=a.copy(h);q.dispatch("updateView",d)}function b(){k=a.copy(h);l(h.color)}function c(a){r=a}var n,q,h={},k={},m,g,r=!0;return function(d,e){q=e;n=d;q.register("updateSelection",t);q.register("updateModel",f);q.register("resetModel",b);q.register("updateTwisterHoverState",
c);this.init=function(){l()};this.getCurrentItem=function(){return a.copy(h)};this.getPreviousItem=function(){return a.copy(k)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){g=a};this.getImmersiveViewModalInstance=function(){return g};this.updateTitle=function(a){n.title=a};this.setToPreviousItem=function(){p(k.type,k.index,k.thumbnailIndex,k.variant,k.color,k.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,
a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)};this.getShouldUpdateOnTwisterHover=function(){return r}}});"use strict";b.when("imageBlockUtils").register("ImageBlockState",function(a){return function(e,b,l){this.getImageHash=function(f){var b=l.getCurrentItem();f=a.getIndexForVariant(b.color,f||"MAIN",e);return a.getImageHash(b.color,f,e)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";
b.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(a,b,p,l,f){var e={};return function(g){var c=this;c.dispatch=function(b,c){b=e[b];l.isDefined(b)&&a.each(b,function(a,b){b.call(m,c)})};c.register=function(a,b){l.isDefined(e[a])||(e[a]=[]);"function"===typeof b&&e[a].push(b)};c.model=new b(g,c);c.view=new p(g,c,c.model);c.api=new f(g,c,c.model);c.init=function(){c.model.init();c.view.init()};c.init()}});"use strict";b.when("jQuery",
"ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(a,e,g,l){a=a.extend(!0,{},g,l);var f=new e(a);b.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(C){var p=window.AmazonUIPageJS||window.P,X=p._namespace||p.attributeErrors,ca=X?X("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):p;ca.guardFatal?ca.guardFatal(C)(ca,window):ca.execute(function(){C(ca,window)})})(function(C,p,X){C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,b,f,ha,g,F,E){function K(d,k,c,a,e){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var h=
I.getCurrentItem();if(!a||"chromeless-video"!==h.type||!l.autoplayVideo){a=0;l.twisterInteractionSimplificationEnabled||"image"!==h.type||(a=Math.max(f.getIndexForVariant(h.color,h.variant,l),0));var r=0;f.isDefined(l.heroImage[h.color])&&(r=l.heroImage[h.color].length);e=a-(k>=l.maxAlts?l.maxAlts-e-r:0);k=0<=e?k+e:a+r;k>=c&&(a=0,k=r);c=f.getImageHash(h.color,a,l);-1!==c&&(U.dispatch("updateModel",{data:{index:a,thumbnailIndex:k,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=
d.find(".item").get(k),f.selectGivenThumbnail(b(c),d))}}}function n(b){if(!l.useChildVideos)return f.lazyLoadingRequired(I.getCurrentItem(),I,l)?void 0:l.videos;if(l.colorToVideo[b])return l.colorToVideo[b];var k=l.colorToAsin[b];if(k&&k.asin){var c={};c.params={asin:k.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},ha.load(VIDEO_AJAX_ENDPOINT,c));
return l.colorToVideo&&l.colorToVideo[b]}}function P(d,k,c,a){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&c)return d;a=n(k);var e=f.isDefined(a)&&0<a.length&&l.alwaysIncludeVideo?1:0;k=l.colorImages&&l.colorImages[k];a=d;var h=0;f.isDefined(k)&&(b.each(k,function(a,c){if(h>=l.maxAlts-e&&d<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var k=b(".thumbItemUnrolled");k[d]?k[d].querySelector("img").src=c.thumb:
b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(d+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(d+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(d+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:d,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,W,"imageThumbnail");d++}h++}),F.isEnabled&&E.logAltImgRequestPlacedOnThumbnails(b,F,I),K(W,a,d,c,e));return d}function D(b,k){l.useIV&&f.isDefined(k.hiRes)&&b.css("cursor","pointer")}function q(d,k){if("image"===d.type&&G){var c=b("#image-canvas-caption #canvasCaption"),a=l.staticStrings,e=l.colorImages,h=d.color,r=d.index,q=!0;var g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e";f.isShoppableScenesEnabled()&&
d.shoppableScene?g=a.clickSceneTagsToShopProducts:k&&l.useIV?(g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",q=!0):e[h]&&e[h][r].hiRes&&l.useHoverZoom?(l.useHoverZoomIpad?g=a.touchToZoom:l.useClickZoom&&(g=a.clickToZoom),l.hoverZoomIndicator&&(g="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+g)):l.useIV&&(g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",q=!0);c.html(g);q&&(d=b("#image-canvas-caption #canvasCaption a"),m.declarative.create(d,"iv-open-caption-click"))}}
function B(d,k){var c="a-dynamic-image";if(!l.acEnabled){var a;b.each(d.main,function(c,e){f.isDefined(a)||(a=parseFloat(e[1]/e[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=a}var e=f.getMaxDimensionsOfMainImage(d.main,J,l),h=e[0],r=e[1];e=b("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":r};e.addClass(c).css(h).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:k}).data("a-dynamic-image",d.main);return e}function t(b,k,c){var a=
"desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",a,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=S.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",a);c.children("span").css("display","inline-block");U.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:k.shoppableScene,imageSource:k.hiRes||k.large||k.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,c){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:k.shoppableScene})}),c.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",a,{wb:1});return c}function u(b,k,c){c=B(b,c);b=f.isShoppableScenesEnabled()&&b.shoppableScene?t(k,b,c):S.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");b.addClass("image item itemNo"+k+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":k+1});b.find(".placeHolder").replaceWith(c);S.find(".list").append(b);
m.loadImageManually(c);return b}function N(b){var k=J.css("height");null!==k&&b.find(".imgTagWrapper").css("height",k);b.addClass("selected");l.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function M(d,k,c,a){if(2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||a||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){c=f.getImageHash(d.color,d.index,l);if(-1===c)return k={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},f.lazyLoadingRequired(d,I,l)||(U.dispatch("updateModel",k),f.showUnavailable(d.color)),-1;a=S.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(a)||(a=u(c,d.thumbnailIndex,k));N(a);U.dispatch("loadMagnifier");q(d);D(a,c);m.trigger("dp:image-block:update",c)}}else{d=l.colorImages&&l.colorImages[c];k=b(".unrolledImg");c=n(c);var e=f.isDefined(c)&&0<c.length&&l.alwaysIncludeVideo?1:0;k.length>l.maxAlts&&k.each(function(a){a>=l.maxAlts&&b(this).remove()});f.isDefined(d)&&
b.each(d,function(a,c){a<l.maxAlts-e+l.additionalNumberOfImageAlts&&a>=l.maxAlts-e&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+e+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+e)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(a+e)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}}function H(b){if(!l.twisterInteractionSimplificationEnabled){var d=I.getCurrentItem().color;l.colorImages[d]||(l.colorImages[d]=b);b={type:"updatedData",data:I.getCurrentItem()};
U.dispatch("updateView",b);(d=l.colorToAsin[d])&&d.asin&&C.register(f.rankedImagesReadyEvent(d.asin))}}function T(){var d=S.find(".item .imgTagWrapper"),k=f.getContainerHeight(J,l.holderRatio,l.holderMaxHeight);0<k&&(J.height(k),d.height(k));S.find("img.a-dynamic-image").each(function(){var c=b(this);c.data("a-manual-replacement")&&m.loadDynamicImage(this);var a=c.data("a-dynamic-image");a=f.getMaxDimensionsOfMainImage(a,J,l);c.css({"max-height":a[0]+"px","max-width":a[1]+"px"})})}function d(d){q(I.getCurrentItem(),
"mouseenter"===d.type)}var h,l,I,U,W,S,J,w,G=(g=m.state("imageBlockStateData"))?!g.shouldRemoveCaption:!0;return function(q,k,c,a){h=this;l=q;I=k;U=a;m.on("triggerImageAjax",H);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];h.render=function(a,c,d,k,h,q,g,m){S=d;W=k;J=h;w=l.twisterInteractionSimplificationEnabled&&"swatchClick"===m?0:P(c,a,q,m);q||(c=I.getCurrentItem(),f.lazyLoadingRequired(c,I,l)&&U.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=I.getCurrentItem();d=!q;f.lazyLoadingRequired(c,
I,l)||(b("#imageBlock").css("opacity","1"),S.css("opacity","1"),f.spinner(S,!1),l.isMediaBlock||(S.find("li").removeClass("selected"),G&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&S.find(".list .item").remove()));M(I.getCurrentItem(),g,a,q);return w};h.update=function(a){};l.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");U.register("imageHover",d);U.register("resize",T)}});"use strict";C.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(m,b,f){var p,g,F,E;return function(b,n,P,D){p=this;g=b;F=D;p.render=function(b,n,t,u,F,M,H){E=u;p=this;t=g.maxAlts;u=n;F=g.colorImages[b]?g.colorImages[b].length:0;F+=f.getVideosCount(b,g);b=g.heroImage[b];M=0;b&&(M=b.length);b=F+M;b>t&&(t=b-t,b=E.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),t+="+",u={type:"ingress",index:0,thumbnailIndex:n,variant:""},b.find("#altIngressText").append(t),m.declarative.create(b,"thumb-action",
u),E.append(b),u=n++);return u};p.update=function(b){"ingress"===b.data.type&&"click"===b.type&&F.dispatch("imageClick",b)}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,b,f,p){function g(d,h,l,g){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var q=u.getCurrentItem();if(!g||"chromeless-video"!==q.type||!t.autoplayVideo){g=0;if("hero-image"===q.type){g=E(q.color,q.variant);if(-1===g)return;g=-1!==g?g:0}var m=h+g;
m>=l&&(g=0,m=h);h=p.getHeroImageHash(t,q.color,g);-1!==h&&(N.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:h.variant,type:"hero-image"}}),h=d.find(".item").get(m),f.selectGivenThumbnail(b(h),d))}}}function F(d,h,l){if("hero-video"===u.getCurrentItem().type)return d;h=t.heroImage&&t.heroImage[h];var q=d;f.isDefined(h)&&(b.each(h,function(b,h){d<t.maxAlts&&(f.createThumbnail({type:"hero-image",index:b,thumbnailIndex:d,variant:h.variant},h.thumb,M,"imageThumbnail"),d++)}),g(M,q,d,l));
return d}function E(d,h){var l=t.heroImage;if(1>l.length||!f.isDefined(l[d])||!f.isDefined(h))return-1;var g=-1;b.each(l[d],function(b,d){d.variant===h&&(g=b)});return g}function K(){if(H.length&&t.repositionHeroImage){var b=p.getHeroDimParams(t,u.getCurrentItem());if(f.isDefined(b)){var h=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ";H.css({"background-position":h,"background-size":b.width+"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"",
"-ms-filter":""})}}}function n(b,h,l,g){if(H.length&&b&&h){if("function"===typeof l||g){var d=new Image;d.onload=g?function(){H.css("background-image",'url("'+b+'")')}:l;d.src=b}l=h[1];d=h[0];g||H.css({"background-image":'url("'+b+'")'});if(t.repositionHeroImage&&(h=p.getHeroDimParams(t,u.getCurrentItem(),h),f.isDefined(h))){l=h.width;d=h.height;var q=f.isDefined(h.xPos)?h.xPos+"px "+h.yPos+"px ":"center "+h.yPos+"px "}H.css({"background-position":q,"background-size":l+"px "+d+"px ","max-width":l+
"px ","min-height":d+"px ",filter:"","-ms-filter":""})}}function P(d,f,l,g){d=p.getHeroImageHash(t,d,f);if(-1===d)return-1;f=b.map(d.main,function(b,d){return d})[0];n(f,d.main[f],l,g)}function D(b,f,l){if("hero-image"!==b.type)return-1;var d=E(b.color,u.getCurrentItem().variant);d=-1!==d?d:0;if(-1===p.getHeroImageHash(t,b.color,d))return-1;var h=u.getCurrentItem();b.thumbnailIndex=h.thumbnailIndex;b.type=h.type;b.variant=h.variant;b.index=d;q(b,f,l)}function q(b,f,l){var d=p.getHeroImageHash(t,b.color,
b.index);var h=b&&T&&m.equals(b,T)?!0:!1;T||(T=b);if(!h&&b||f)P(b.color,b.index,f,l),T=b;H.removeClass("hide-background");m.trigger("dp:image-block:update",d)}var B,t,u,N,M,H,T={};return function(d,h,l,g){B=this;t=d;u=h;N=g;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];B.render=function(d,f,h,l,g,q,m){M=l;H=b("#heroImage");d=F(f,d,q);D(u.getCurrentItem(),m,q);return d};B.update=function(b){var d=b.data;"ingress"!==d.type&&H.addClass("hide-background");"swatchHover"===b.type?b.captured||
(d.type=u.getCurrentItem().type,-1!==D(d)&&(b.captured=!0)):"hero-image"===d.type&&(q(d),"click"!==b.type&&t.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,M))};N.register("resize",K)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,b,f,C,g,F){function E(b){M?b.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),
b.css("cursor","zoom-in"))}function K(b){var d=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(f.isDefined(d)){d=d[1].split("_");for(var l=0;l<d.length;l++){var g=d[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(g)&&(b[g[1]]=parseInt(g[2],10))}}return b}function n(d,h){function l(){if(h.useClickZoom){var a=h.offsetInClickZoom;a=[Math.min(1,Math.max(0,y[0]-(O[0]+a))/(O[2]-2*a)),Math.min(1,Math.max(0,y[1]-(O[1]+a))/(O[3]-2*a))]}else a=x&&x.updatePosition();if(a&&r&&r.detailSize){var c=[r.detailSize[0]-
r.rect.width,r.detailSize[1]-r.rect.height];m.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*c[0])+"px":r.detailImage.get(0).style.left=-(a[0]*c[0])+"px";r.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function n(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function B(a){var c=v?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";y=v?[c.pageX,c.pageY]:[a.pageX,a.pageY];if(m.capabilities.rtl){var e=b(p).width();y=v?[e-c.pageX,c.pageY]:[e-a.pageX,a.pageY]}}
function t(a){B(a);h.useClickZoom?a=[O[0],O[1],O[0]+O[2],O[1]+O[3]]:(a=x?x.offset:d.offsetParent().offset(),a=q.acEnabled?[a.left,a.top,e.width()+a.left,e.height()+a.top]:[z[0]+a.left,z[1]+a.top,z[0]+z[2]+a.left,z[1]+z[3]+a.top]);return y[0]<a[0]||y[1]<a[1]||y[0]>=a[2]||y[1]>=a[3]||q.acEnabled&&!n(d)?!0:!1}function u(a){v&&a.preventDefault();T=t(a)?!1:!0}function N(a){v&&a.preventDefault();t(a)?(H||(h.fadeMagnifier?Y||(Y=!0,ka=setTimeout(function(){w(!0)},500)):h.useClickZoom||w(),ia&&(ia=!1,clearTimeout(la))),
H=!1):(ia||(ia=!0,la=setTimeout(function(){C.postCountMetric("dppc_hoverZoomOpened");g.isEnabled&&F.logHoverZoomRequestServed(g)},1E3)),h.fadeMagnifier&&Y&&(Y=!1,clearTimeout(ka)),H||l())}function w(c){c&&a.suppressMagnifier(!0);if(A){r&&r.hide();x&&(x.destroy(),x=null);H&&P();A=!1;v?(d.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");D();if(c)d.one("click.magnifier touchstart.magnifier",
function(a){G(a,!0)});b(document).unbind("keydown.magnifier")}}function G(f,k){k&&a.suppressMagnifier(!1);T||(H=!1);if(!(A||da||H)){0===V&&(C.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),V=1);Z[Q]||(C.postCountMetric("dppc_hoverMain"),Z[Q]=1);Q&&(B(f),r?r.refit().show():r=new ja,h.useClickZoom||(x=x||new ba),O=r.getWindowSize(),l());A=!0;v?(d.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",N).bind("touchend.magnifier",w),b(document).trigger("engaged.magnifier")):
(q.acEnabled?e.unbind("mousemove.magnifier"):d.unbind("mousemove.magnifier"),b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",N));if(k&&(f=b("#zoomWindow"),0<f.length))f.one("click.magnifier touchend.magnifier",function(a){w(!0)});b(document).bind("keydown.magnifier",c)}}function D(){h.useHoverZoom&&(v?d.bind("touchstart.magnifier touchmove.magnifier",G):(q.acEnabled?n(d)&&e.bind("mousemove.magnifier",G):d.bind("mousemove.magnifier",G),b(document).bind("mousemove.magnifierCursor",
u)))}function k(a){return[a.position().left,a.position().top,a.width(),a.height()]}function c(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)H=!0,w(!0)}var a=this,e=d.offsetParent(),L={detailImageUrl:d.attr("data-old-hires"),location:"over",locationElement:d,prelaod:"ready",zIndex:50,offsetInClickZoom:50};h=b.extend(L,h);h.adjustment=[10,0,-10,0];var r=null,x=null,y=null,z=k(d),O=null,ha={"null":1,"":1,undefined:1},A=!1,da=!1,Q=h.detailImageUrl,v=h.useHoverZoomIpad||0,V=0,Z={},ba=
function(){function a(a){var c=Math.round(Math.min(d.width(),r.rect.width/a));a=Math.round(Math.min(d.height(),r.rect.height/a));v.css({width:c,height:a});e=[c,a]}var c=this,e=[0,0],f=(r.detailSize&&r.detailSize[0]||5E8)/z[2],k=(r.detailSize&&r.detailSize[1]||5E8)/z[3];f=k>f?k:f;b("#magnifierLens").remove();var v=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});h.generalImageUrls.zoomLensBackground&&v.css({backgroundImage:"url("+h.generalImageUrls.zoomLensBackground+")"});q.showMagnifierOnHover?
E(v):v.css("cursor","pointer");c.updatePosition=function(){var a=[z[2]-e[0],z[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(y[0]-e[0]/2-z[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(y[1]-e[1]/2-z[1]-c.offset.top)/a[1])),f=z[0]+Math.round(b*a[0]);a=z[1]+Math.round(d*a[1]);v.get(0).style.left=f+"px";v.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){v.remove()};c.offset=d.offsetParent().offset();a(f);c.updatePosition();v.appendTo(d.parent());r.detailImage[0].complete||r.detailImage.load(function(){var b=
r.detailImage.width()/z[2];a(b);c.updatePosition()})};ba.preload=function(){a.preload(h.generalImageUrls.lensBackgroundUrl)};var ja=function(){function a(){var a={};if("over"===h.location){a=h.useClickZoom;var c={},v=b("#leftCol"),l=b("#centerCol"),V=b("#rightCol"),oa=b("#hover-zoom-end"),q=b("#actionPanelContainer"),r=f.isjQueryObjDefined(v)?v.outerHeight():l.outerHeight();c.top=f.isjQueryObjDefined(v)?v.offset().top:l.offset().top;c.bottom=r+c.top;c.right=f.isjQueryObjDefined(V)?V.offset().left:
q.offset().left;c.left=a?0:v.offset().left+v.outerWidth();f.isjQueryObjDefined(oa)&&oa.offset().top>c.bottom&&(c.bottom=oa.offset().top);a=c}else"right"===h.location&&(a=d.offset(),a={left:a.left+d.outerWidth(),top:a.top,right:a.left+d.outerWidth()+400,bottom:a.top+400});h.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+b(h.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,b(p).scrollTop()+b(p).height());a.left+=k[0];a.top+=k[1];a.right+=k[2];a.bottom+=k[3];a.width=a.right-a.left;a.height=
a.bottom-a.top;h.enhancedHoverOverlay&&f.isDefined(p.pageXOffset)&&(c=b(p).width(),a.width=c-a.left+p.pageXOffset-18,a.height-=14);g.css({left:a.left,top:a.top,width:a.width,height:a.height});e.rect=a;return e}function c(a){var c=new Image;e.detailSize=[0,0];c.onload=function(){e.detailSize=[c.width,c.height];l()};c.src=a.attr("src");if(0<c.width&&0<c.height)e.detailSize=[c.width,c.height];else if(h.detailImageSize)e.detailSize=h.detailImageSize;else{a=K(c.src);var b=z[2]/z[3];a.SS||a.AA?(a=a.SS||
a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?e.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(e.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var e=this,k=h.adjustment;b("#zoomWindow").remove();var v={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:h.zIndex};h.enhancedHoverOverlay&&(v.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",v.border="1px solid #949494",v.borderColor="rgb(148,148,148)");var g=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(v);
h.fadeMagnifier&&g.fadeIn(200);h.useClickZoom&&(M?g.css("cursor",'url("'+h.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));e.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();g.append(a);b(document).trigger("updated.magnifier");e.detailImage=a;c(e.detailImage)};e.refit=function(){a();c(e.detailImage);return e};h.fadeMagnifier?(e.show=
function(){g.fadeIn(200);return e},e.hide=function(){g.fadeOut(200);return e}):(e.show=function(){g.show();return e},e.hide=function(){g.hide();return e});e.destroy=function(){g.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(Q);a();g.appendTo(document.body)},Y=!1,ka,ia=!1,la;a.preload=function(c){c=b.makeArray(c);for(var e=c.length,d=0;d<e;d++)c[d]instanceof Array?a.preload(c[d]):"string"===typeof c[d]&&c[d]&&!ha[c[d]]&&(ha[c[d]]=
new Image,ha[c[d]].src=c[d])};a.changeImage=function(c,e){A&&w();Q=e;d.attr("src",c);a.preload(c);z=k(d);e&&("immediately"===h.preload?a.preload(e,!0):b(p).ready(function(){a.preload(e)}),r?r.updateImage(e):d.attr("data-old-hires",e))};a.destroy=function(){q.acEnabled?e.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):d.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");x&&x.destroy();x=null;
r&&r.destroy();r=null};a.detailImage=function(){return r.detailImage};a.suppressMagnifier=function(a){da=a};a.isEngaged=function(){return A};a.engageMagnifier=G;a.disengageMagnifier=w;d[0].complete?D():d.one("load",D);a.preload(d.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(h.preload){var qa=h.detailImageUrl;L=function(){a.preload(qa,!0);h.useClickZoom||ba.preload()};var ea=h.preload;ea.constructor!==Array&&(ea=[ea]);for(var fa=
0;fa<ea.length;fa++)if("immediately"===ea[fa])L();else if(b(p)[ea[fa]])b(p)[ea[fa]](L);else b(p).bind(ea[fa],L)}return a}function P(){if(q.useHoverZoom){var d={adjustment:[0,0,1,1],generalImageUrls:q.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:q.useHoverZoomIpad,useHoverZoom:q.useHoverZoom,useClickZoom:q.useClickZoom,fadeMagnifier:q.fadeMagnifier,zoomOutIcon:q.staticImages.zoomOutCur,enhancedHoverOverlay:q.enhancedHoverOverlay||q.atfEnhancedHoverOverlay};
u&&(u.destroy(),u=X);var h=N.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(h)?q.useClickZoom?(h.one("click.loadmagnifier touchstart.loadmagnifier",function(b){u=new n(h,d);u.engageMagnifier(b,!0)}),M?h.css("cursor",'url("'+q.staticImages.zoomInCur+'"), auto'):(h.css("cursor","-webkit-zoom-in"),h.css("cursor","-moz-zoom-in"),h.css("cursor","zoom-in"))):u=new n(h,d):g.isEnabled&&F.logHoverZoomApplicability(b,g)}}var D,
q,B,t,u,N,M=navigator.userAgent.match(/msie|trident/i),H=!1,T=!1;return function(b,f,l,m){D=this;q=b;B=f;g.refToModel=B;t=m;D.render=function(b,d,f,g,h,l){N=f;u&&(u.destroy(),u=X)};D.update=function(b){};t.register("loadMagnifier",P);t.register("resize",P)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,b,f,C){function g(b,g,m){b=(b=m?m:f.getColorFromState(g.getState().hovered_variations,n))&&""!==b?b:n.defaultColor;b={color:b};n.isMediaBlock&&
(b.thumbnailIndex=P.getCurrentItem().thumbnailIndex);D.dispatch("updateView",{type:"swatchHover",data:b});C.postCountMetric("swatchHover")}function F(g,m,t,u){u=g=(g=u?u:f.getColorFromState(m.getState().selected_variations,n))&&""!==g?g:n.defaultColor;n.twisterInteractionSimplificationEnabled&&"initial"===g&&(u=f.getTwisterColorFromState(m.getState().selected_variations));u===P.getCurrentItem().color||n.colorToAsinCached&&n.colorToAsinCached[u]?"function"===typeof t&&t():(n.isMediaBlock&&(b("#mediaBlock_feature_div").removeClass("js-feature-refresh-overlay").css("opacity",
""),n.asinToColor=n.asinToColor||{},n.asinToColor[m.getState().current_asin]=g),!n.twisterInteractionSimplificationEnabled||n.colorToAsinCached&&n.colorToAsinCached[u]||((m=document.querySelector("#altImages \x3e ul"))&&m.classList.add("js-feature-refresh-overlay"),n.colorToAsinCached=n.colorToAsinCached||{},n.colorToAsinCached[u]=!0),m={color:g},n.twisterInteractionSimplificationEnabled&&"initial"!==g&&(m.type="image",m.index=0,m.thumbnailIndex=0),D.dispatch("updateSelection",{type:"swatchClick",
data:m,onload:function(){if(!n.twisterInteractionSimplificationEnabled){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",b)}t()}}),C.postCountMetric("swatchClick"))}function E(f){if(f){var g=null!=f.requestedAsinColor?f.requestedAsinColor:n.defaultColor;n.isMediaBlock&&(g=n.asinToColor[f.asin]||g);var m={altImagesData:!0,videosData:!0},p={},q;for(q in f)f.hasOwnProperty(q)&&!m[q]&&(p[q]=f[q]);n=b.extend(!0,n,p);n.colorImages[g]=
"initial"!==g&&n.colorImages[g]&&0<n.colorImages[g].length?n.colorImages[g].slice(0,1).concat(f.altImagesData.slice(1)):f.altImagesData;n.colorToVideo[g]=f.videosData;f={color:g};n.isMediaBlock&&(f.type="image",f.index=0,f.thumbnailIndex=0);f={type:"updatedData",data:f};D.dispatch("updateModel",f);D.dispatch("updateView",f)}}var K,n,P,D;return function(b,f,p,u){K=this;n=b;P=f;D=u;m.on("image-block-twister-swatch-hover",g);m.on("image-block-twister-swatch-click",F);m.on("twisterRefreshData",E);K.render=
function(b,f,g,m,d){};K.update=function(b){}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,b,f,ha,g,F,E){function K(e,d,g,h){if(!f.isjQueryObjDefined(e.find(".a-button-selected"))){var v=c.getCurrentItem();if(!h||"chromeless-video"!==v.type||!k.autoplayVideo)if(h=0,k.twisterInteractionSimplificationEnabled||"image"!==v.type||(h=Math.max(q(v.color,v.variant),0)),!(v.thumbnailIndex>=
k.maxAlts&&0!=h)){var l=d+h;l>=g&&(h=0,l=d);d=f.getImageHash(v.color,h,k);-1!==d&&(a.dispatch("updateModel",{data:{index:h,thumbnailIndex:l,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=e.find(".item").get(l),f.selectGivenThumbnail(b(d),e))}}}function n(a,e,d,g){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&d)return a;var h=k.colorImages&&k.colorImages[e];e=a;2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||
a>=h.length||a>=k.maxAlts)&&b(this).remove()});f.isDefined(h)&&(b.each(h,function(c,e){if(a<k.maxAlts)if(2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){a++;var d=b(".thumbItemUnrolled");d[c]?d[c].querySelector("img").src=e.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else c={type:"image",index:c,thumbnailIndex:a,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(c,e.thumb,r,"imageThumbnail"),"T1"!==k.desktopCollapsibleThumbnailsExperience&&"T2"!==k.desktopCollapsibleThumbnailsExperience||
f.updateImageThumbnailOverlay(e,c,h),a++}),F.isEnabled&&E.logAltImgRequestPlacedOnThumbnails(b,F,c),K(r,e,a,d));return a}function P(a,c){k.useIV&&f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function D(a,c){if("image"===a.type&&Q){var e=b("#image-canvas-caption #canvasCaption"),d=k.staticStrings,g=k.colorImages,h=a.color,l=a.index,v=!1;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var r=d.clickSceneTagsToShopProducts;else c&&k.useIV?(r='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",
v=!0):g[h]&&g[h][l].hiRes&&k.useHoverZoom?(k.useHoverZoomIpad?r=d.touchToZoom:k.useClickZoom?r=d.clickToZoom:(r='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0),k.hoverZoomIndicator&&(r="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+r)):k.useIV&&(r='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0);e.html(r);v&&(a=b("#image-canvas-caption #canvasCaption a"),m.declarative.create(a,"iv-open-caption-click"))}}function q(a,c){return f.getIndexForVariant(a,c,
k)}function B(a,c,b){var e=c.thumbnailIndex,d=k.colorToAsin[c.color]&&k.colorToAsin[c.color].asin;c="altImageHover"===b&&z&&z.altImageIdx===e&&z.asin===d&&"swatchClick"===z.event?!0:"swatchHover"===b?z&&z.asin===d&&z.event===b:z&&z.altImageIdx===e&&z.asin===d&&z.event===b;if(!c){var f="#",g=a.find(".imgTagWrapper img").get(0);g&&(f=g.src);a=new Image;a.onload=function(){if(g){g.src=f;var a=g.width,c=g.height,k=g.naturalWidth,h=g.naturalHeight;try{var l=(Math.abs(a/k*h-c)/c).toFixed(2);.01<l&&(p.ue&&
((("landing"!==b||A||da)&&"swatchClick"!==b||p.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?p.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||da?"altImageHover"!==b||A||(p.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),A=!0):(p.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),da=!0)),p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},p.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
d+" Event:"+b+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" at altImageIdx "+e+" Event:"+b+" Diff:"+l.toString()+"]"},a)))}catch(aa){p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},p.ueLogError(aa,a))}}};"#"!==f&&(a.src=f);z.altImageIdx=e;z.asin=d;z.event=b}}function t(a,c){var e="a-dynamic-image";if(!k.acEnabled){var d;b.each(a.main,function(a,c){f.isDefined(d)||(d=parseFloat(c[1]/c[0])<=parseFloat(k.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});e+=d}var g=f.getMaxDimensionsOfMainImage(a.main,y,k),h=g[0],l=g[1];g=b("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":l};g.addClass(e).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",a.main);return g}function u(){m.on("a:image:load:swatchHoverImage",function(a){g.postCountMetric("mainImageUpdateOnTwisterSwatchHover")})}function N(c,b,e){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+
c;"function"==typeof uet&&uet("bb",d,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+c);e=x.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":d,"data-csa-c-slot-id":d,"data-csa-c-type":"widget","data-csa-c-asin":k.mediaAsin,"data-csa-c-physical-id":b.shoppableScene.physicalId,"data-product-line":b.shoppableScene.productLine});
e.children("span").css("display","inline-block");a.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&
""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return e}function M(a,c,b){b=t(a,b);a=f.isShoppableScenesEnabled()&&a.shoppableScene?N(c,a,b):x.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(b);k.isMediaBlock?x.find(".desktop-media-mainView").append(a):x.find(".list").append(a);m.loadImageManually(b);m.trigger("dp:image-block:imageBlockImageLoad",c);return a}function H(a){var c=y.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");
k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function T(a){if(a.isUserGenerated){var b=c.getPreviousItem(),e=a.variant;f.isDefined(e)&&b.thumbnailIndex!==a.thumbnailIndex&&(F.isEnabled&&E.logAltImgRequestServed(F),g.postCountMetric("ImageThumbnailSelectedVariant:"+e),0===e.indexOf("IG")&&(g.postCountMetric("IGImageSelectedVariant:"+e),g.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function d(e,d,l,r,n){if(2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||
r||"unavailable"===e.type){if("image"===e.type||"unavailable"===e.type||"lazy-loaded"===e.type){(v=f.isDefined(d))&&g.postCountMetric("mainImageUpdateOnTwisterVariationClick");l=f.getImageHash(e.color,e.index,k);if(-1===l)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(e,c,k)||(a.dispatch("updateModel",d),f.showUnavailable(e.color)),-1;r=x.find(".item.itemNo"+e.thumbnailIndex);if(k.isMediaBlock&&"swatchClick"===n||!k.isMediaBlock&&!f.isjQueryObjDefined(r))r=
M(l,e.thumbnailIndex,d),v?(da=A=!1,B(r,e,"swatchClick")):B(r,e,"altImageHover");if(k.isMediaBlock&&"swatchClick"===n||!h(r,l,e))H(r),P(r,l);a.dispatch("loadMagnifier");D(e);T(e);m.trigger("dp:image-block:update",l);w(!1)}}else if(e=k.colorImages&&k.colorImages[l],b(".unrolledImg").each(function(a){b(this).remove()}),f.isDefined(e)){b.each(e,function(a,c){if(a<k.maxAlts){var e=b(".unrolledImg");e[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+
c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=e.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}});m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var v=f.isDefined(d);v&&(g.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d());w(!1)}}function h(a,c,e){if(!k.isMediaBlock)return!1;var b=a.find("div.a-image-wrapper.a-manually-loaded.a-dynamic-image").first();b.length&&(c=f.getMaxDimensionsOfMainImage(c.main,y,k),b.css({"max-height":c[0],"max-width":c[1]}),m.loadImageManually(b),m.trigger("dp:image-block:imageBlockImageLoad",e.thumbnailIndex));e=y.css("height");null!==e&&a.find(".imgTagWrapper").css("height",e);k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses);return!0}function l(a){var e=
0;k.twisterInteractionSimplificationEnabled||(e=Math.max(q(a.color,c.getCurrentItem().variant),0));e=f.getImageHash(a.color,e,k);if(-1===e)return f.lazyLoadingRequired(a,c,k)||f.showUnavailable(a.color),-1;var b=x.find(".swatchHoverExp"),d=t(e);k.isMediaBlock&&d.attr({"data-a-image-name":"swatchHoverImage"});b.find(".imgTagWrapper").html(d);m.loadImageManually(d);g.postCountMetric("mainImageUpdateOnTwisterVariationHover");H(b);B(b,a,"swatchHover");m.trigger("dp:image-block:update",e);w(!0)}function I(a,
e){f.lazyLoadingRequired(a,c,k)||(b("#imageBlock").css("opacity","1"),x.css("opacity","1"),f.spinner(x,!1),k.isMediaBlock||(x.find("li").removeClass("selected"),Q&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&x.find(".list .item").remove()))}function U(e){f.lazyLoadingRequired(e,c,k)&&a.dispatch("updateModel",{data:{type:"lazy-loaded"}})}function W(){var a=x.find(".item .imgTagWrapper"),c=f.getContainerHeight(y,k.holderRatio,k.holderMaxHeight);0<c&&(y.height(c),a.height(c));
x.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&m.loadDynamicImage(this);var c=a.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,y,k);a.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function S(a){D(c.getCurrentItem(),"mouseenter"===a.type)}function J(){if("function"===typeof p.markFeatureRender){var a={hasComponents:!0,components:[{name:"thumbnail"}]};p.markFeatureRender("imageblock",a)}"function"===typeof p.markFeatureInteractive&&(a=
{hasComponents:!0,components:[{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]},p.markFeatureInteractive("imageblock",a))}function w(a){var c=a?b("#main-image-container .swatchHoverExp .imgTagWrapper img"):b("#main-image-container .list.maintain-height .image.selected .imgTagWrapper img");if(c.length){var e=m.state("imageBlockStateData");if(e&&e.isElongatedImageView){e=c.width();var d=c.height();if(e&&d)e/=d,.615<=e&&.635>=e?c.removeClass("no-border-radius"):c.addClass("no-border-radius");
else m.on("a:image:load",function(){w(a)})}}}function G(){m.on("a:image:load:mbAltImage",function(a){a=a.$imageElement.data("mb-pv-slot-index");p.logContentLoadedMarker&&p.logContentLoadedMarker(a)})}var R,k,c,a,e,L,r,x,y,z={},O,X=null,A=!1,da=!1,Q=(ha=m.state("imageBlockStateData"))?!ha.shouldRemoveCaption:!0;m.on("triggerImageAjax",function(e){if(!k.twisterInteractionSimplificationEnabled){var b=c.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=e);e={type:"updatedData",data:c.getCurrentItem()};
a.dispatch("updateView",e);(b=k.colorToAsin[b])&&b.asin&&C.register(f.rankedImagesReadyEvent(b.asin))}});return function(h,m,q,M){R=this;k=h;c=m;a=M;k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];R.render=function(a,e,f,g,h,l,m,L){x=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?f:b(".unrolledScrollBox");r=g;y=h;k.twisterInteractionSimplificationEnabled&&"swatchClick"===L?O=0:(O=k.isMediaBlock?e:n(e,a,l,L),k.twisterInteractionSimplificationEnabled&&"updatedData"===
L&&((f=document.querySelector("#altImages \x3e ul"))&&"undefined"!==typeof f.classList&&f.classList.remove("js-feature-refresh-overlay"),J()));l?0===e&&B(x.find(".item.itemNo0"),c.getCurrentItem(),"landing"):U(c.getCurrentItem());I(c.getCurrentItem(),!l);e=m;k.twisterInteractionSimplificationEnabled&&(e=function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",a);"function"===typeof m&&m()});2===k.unrolledImageBlockTreatment||
3===k.unrolledImageBlockTreatment?"swatchClick"===L&&k&&k.colorImages?(X=k.colorImages[a],d(c.getCurrentItem(),e,a,l)):"updatedData"===L&&k&&k.colorImages&&k.colorImages[a]!==X&&(X=k.colorImages[a],d(c.getCurrentItem(),e,a,l)):d(c.getCurrentItem(),e,a,l,L);return O};f.isImageBlockGridViewHoverDelayEnabled()?R.update=function(a){var b=a.data;c.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(c.setToPreviousItem(),"mouseenter"===a.type?(L&&clearTimeout(L),L=setTimeout(function(){c.setToCurrentItem(b);
I(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?L&&clearTimeout(L):"click"===a.type&&(c.setToCurrentItem(b),I(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&I(a.data,!1),b.color===c.getCurrentItem().color?d(c.getCurrentItem(),null,b.color,!0):a.captured||-1===l(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(g.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+O),e&&clearTimeout(e),e=setTimeout(function(){d(b,
null,b.color,!0);k.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,r)},f.getHoveringDelayTimer())):"mouseleave"===a.type?e&&clearTimeout(e):"click"===a.type&&(d(b,null,b.color,!0),f.selectGivenThumbnail(a.$declarativeParent,r),g.postCountMetric("dpcc_imageThumbClicked_total"),g.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+O)))}:R.update=function(a){var e=a.data;c.setCurrentEvent(a);"ingress"!==e.type&&I(a.data,!1);"swatchHover"===a.type?e.color===c.getCurrentItem().color?
d(c.getCurrentItem(),null,e.color,!0):a.captured||-1===l(e)||(a.captured=!0):"image"===e.type&&(e.interaction=a.type,e.isUserGenerated=!0,"mouseenter"===a.type&&g.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+O),d(e,null,e.color,!0),k.usePeekHover&&"click"!==a.type||(k.isMediaBlock||f.selectGivenThumbnail(a.$declarativeParent,r),"click"===a.type&&(g.postCountMetric("dpcc_imageThumbClicked_total"),g.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+O))))};k.overrideAltImageClickAction&&
f.addTag("clickEnabledOnAltImages");a.register("imageHover",S);a.register("resize",W);k.isMediaBlock&&(u(),G())}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,b,f,p){function g(f,g){f=b("\x3cimg src\x3d'"+(g?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:g?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(g?"active-tag":"inactive-tag");return f}function F(f){var n=
b("\x3cspan\x3e");m.each(f.tags,function(f){var d=b("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});d.append(g(f,!1));d.append(g(f,!0));d.bind("mouseenter",function(){E(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(d,"scenes-show-details-tags-ib",{tagId:f.link});n.append(d)});return n.children()}function E(b){b.addClass("mirai-scene-dot-pulsate");m.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},
4E3)}function K(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function n(b,f,g){b.eq(g).css({display:"inline-block"});f.eq(g).css({display:"none"})}function P(b){C.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:b})})}function D(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),g=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),
m=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");m.html(t.staticStrings.shoppableSceneViewProductsButton);return f.append(g).append(m)[0].outerHTML}function q(b){function f(){b.$tagPlaceholder.replaceWith(d);var f=d.find(".mirai-scene-tag.active-tag"),g=d.find(".mirai-scene-tag.inactive-tag");n(f,g,0);E(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));N=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+
b.index,{wb:1});u=!0;p.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var g=b.$viewProductsButton.find(".a-button-text");if(0===g.children().length){g.append(D());m.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:b.shoppableScene.tags[0].link});var d=F(b.shoppableScene),h=d.find(".mirai-scene-tag.active-tag"),l=d.find(".mirai-scene-tag.inactive-tag"),q=b.shoppableScene.physicalId,u=!1;m.on("mirai:index:change",function(b){b.scenePhysicalId===
q&&(b=b.selectedIndices[0],K(h,l),n(h,l,b),E(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),N=!0)});m.on("mirai:scene-details-change",function(b){b.physicalId!==q||N||(K(h,l),n(h,l,0),E(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),N=!0)});m.on("mirai:no-products-active",function(b){b.scenePhysicalId===q&&K(h,l)});m.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===q&&(K(h,l),n(h,l,0))});m.on("a:image:load:shoppable-scene:"+b.index,function(){u||
(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",function(d){d.index!=b.index||u||(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});C.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});m.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}
var B,t,u,N=!1;return function(b,g,m,d){B=this;t=b;u=d;f.isShoppableScenesEnabled()?(u.register("initialize-shoppable-scene",q),B.render=function(b,d,f,g,m,n,p){},B.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?P(b.data.shoppableScene.physicalId):N=!1)}):(b=function(){},B.render=b,B.update=b)}});C.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:
function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};C.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,b,f,C,g,F,E,K){function n(c){return null!==c&&"undefined"!==typeof c}function P(c){var a=0;b.each(c,function(c,b){c=parseInt(b[1],10);c>a&&(a=c)});return a}function D(c){var a=0;b.each(c,function(c,b){c=parseInt(b[0],
10);c>a&&(a=c)});return a}function q(c,a,b){a=a.width();if(b.naturalMainImageSize)return a;c=P(c);0<c&&(a=Math.min(a,c));return a}function B(c,a,b){a=a.height();if(b.naturalMainImageSize)return a;c=D(c);0<c&&(a=Math.min(a,c));return a}function t(c){var a;b.each(c,function(c,b){n(a)||(a=b[1]/b[0])});return a||1}function u(c){if(c){if(0<c.indexOf(".m3u8"))return"application/x-mpegURL";if(0<c.indexOf(".mp4"))return"video/mp4"}return""}function N(c,a){a=a.find("img");n(a[c])&&b(a[c]).click()}function M(c,
a){S[c]=a?a:S[c];return S[c]}function H(c,a,e){e=e||W;e=e.colorImages;if(1>e.length||!n(e[c])||!n(a))return-1;var d=-1;b.each(e[c],function(c,b){b.variant===a&&(d=c)});return d}function T(c,a,e){e=e||W;e=e.colorImages;return!(n(e)&&n(e[c])&&n(e[c][a])&&n(e[c][a].main))||1>b.map(e[c][a].main,function(a,c){return c}).length?-1:e[c][a]}function d(c,a,b,d){d.parent().css("z-index",2);0!==b&&0!==a&&(a/=b,d.css("width",""),d.css("height",""),c>a?d.css("width",a/c*100+"%"):d.css("height",c/a*100+"%"))}function h(c,
a){var e;if(e=c.useIV)e=c.colorImages&&c.colorImages[a]&&0<c.colorImages[a].length?!0:!1;c=e;F.isEnabled&&(F.IVApplicaple=c,E.logImmersiveViewApplicability(b,F));return c}function l(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var I="#imageBlock .variationUnavailable",U,W=b.extend(!0,{},C,g);W.isMediaBlock&&(I="#imageBlock .mediaUnavailableExp");var S={},J=0,w=0,G=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,
R={},k={};return{isDefined:n,isDefinedAndEmpty:function(c){return n(c)&&"object"===("undefined"===typeof c?"undefined":ca(c))&&0===Object.keys(c).length},isUndefinedOrEmpty:function(c){return n(c)?"object"===("undefined"===typeof c?"undefined":ca(c))&&0===Object.keys(c).length:!0},isDefinedAndNotEmpty:function(c){return n(c)?"object"===("undefined"===typeof c?"undefined":ca(c))&&0<Object.keys(c).length:!1},isjQueryObjDefined:function(c){return 0!==c.length},getAspectRatio:t,getMaxHeightOfMainImage:B,
getMaxWidthOfMainImage:q,getMaxDimensionsOfMainImage:function(c,a,b){if(b.acEnabled)return[a.height(),a.width()];var e=B(c,a,b);a=q(c,a,b);c=t(c);b=a/c;a=Math.min(a,e*c);e=Math.min(e,b);return[e,a]},getContainerHeight:function(c,a,b){var e=c.get(0);c=0;if(n(e)){c=Math.min(e.offsetWidth/a,b);var d;a=W.mainImageHeightPartitions;b=W.mainImageMaxSizes;if(n(b)&&n(a)){var f=0,g=p.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<a.length;e++)g>a[e]&&(f=e+1);b.length>=
f&&(d=b[f])}n(d)&&(c=Math.min(d[1],c))}return c},getColorFromState:function(c,a){if(c){a=a||W;var e="";b.each(a.visualDimensions,function(a,b){c[b]&&(e+=" "+c[b])});return e&&e.substring(1)}},createThumbnail:function(c,a,b,d){var e=b.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=a;e.find(".placeHolder").replaceWith(f);(a=c.heroVideoVariant)&&"hero-image"===c.type&&c.variant===a&&e.addClass("heroImageThumbnail");n(d)&&e.addClass(d);l()&&e&&
(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));m.declarative.create(e,"thumb-action",c);e.attr&&(e.attr("data-ux-click",""),c.type&&c.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action",
"image-block-alt-image-hover")),e.attr("data-csa-c-posy",c.thumbnailIndex+1));b.append(e);return e},updateImageThumbnailOverlay:function(c,a,b){c.find(".textMoreImages").append(b.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(c,a){c=c.find(".a-button");var b=c.find(".a-button-input");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.find(".a-button-input").attr("aria-checked","false");c.addClass("a-button-selected").addClass("a-button-focus");b.attr("aria-checked",
"true")},loadMediaIntoAiry:function(c,a,b,d){c&&c.getMediaSourceInfo()!==a.url&&(d?c.loadMedia?(U={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web",title:a.title,altText:a.altText},c.loadMedia(U)):c.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):c.loadMedia?c.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,
slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):c.setInitialData({videoUrl:a.url,mimeType:u(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,aciContentId:a.aciContentId,title:a.title,altText:a.altText}))},showUnavailable:function(c){c&&(W.isMediaBlock&&b("#imageBlock .canvas").find("li").removeClass("selected"),b("#imageBlock .unvailableVariation").html(c),b(I).show())},hideUnavailable:function(){b(I).hide()},fadeToThumbnail:function(c,a,b){a.fadeTo(500,
0,function(){N(c,b);a.fadeTo(500,1)})},toggleVideoCaption:function(b){b&&b.toggle()},selectThumbnail:N,spinner:function(c,a){var e=b("#imageBlock .a-spinner").parent();0===e.length&&(e=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF",
"-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?e.show():e.hide();return e},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:M,getIndexForVariant:H,getImageHash:T,lazyLoadingRequired:function(b,a,e){a=Math.max(H(b.color,a.getCurrentItem().variant,e),0);a=-1!==T(b.color,a,e);b=e.colorToAsin[b.color]&&e.colorToAsin[b.color].asin;b=!b||"success"!==M(b);return!e.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:d,repositionVideoBanner:function(b,a,e,f){setTimeout(function(){var c=b.width()/b.height();d(c,16,9,a)},f||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:0},getVideoHash:function(b,a,e){if(e.useChildVideos){if(!n(e.colorToVideo))return-1;b=e.colorToVideo[b]}else b=e.videos;return n(b)&&n(b[a])&&n(b[a].url)?b[a]:-1},isImmersiveViewEnabled:h,playVideoInImmersiveView:function(b,a){return h(b,a)&&b.useTabbedImmersiveView},
useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(U)?U.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,e){var c=e.marketPlaceID,d=e.languageCode;e={videoURL:e.url,imageURL:e.slateUrl};a:{if(b)if(b.colorToAsin&&b.colorToAsin[a]&&b.colorToAsin[a].asin){b=b.colorToAsin[a].asin;break a}else if(b.mediaAsin){b=b.mediaAsin;break a}b=""}return{requester:"DetailPageTablet",marketplaceID:c,clientPrefix:"ImageBlock_tablet",locale:d,page:"DetailPageTablet",
placement:"ImageBlock",metadata:{shouldPreload:!1},video:e,product:{contentID:b,contentIDType:"ASIN"}}},addTag:function(b){p.ue&&p.ue.tag&&p.ue.tag(b)},isShoppableScenesEnabled:function(){return K.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:l,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return J},updateThumbnailHoverDelay:function(b){if(n(b)){J=
0;var a=b.closest("li");a=a.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(a);if(-1!==a){var c=w;b=b.closest("ul").attr("class");b===X?c=!1:(b=G.exec(b),null===b||3!==b.length?c=!1:(b=b[2],c=Math.floor(c/b)>Math.floor(a/b)));c&&(J=100);w=a}}},setDimensionIngressData:function(b,a,e){R[b]=a;k[b]=e},isDimensionIngressEnabled:function(b){return!!R[b]},getDimensionVariantList:function(b){return k[b]},logError:function(b,a,e,d){p.ueLogError&&p.ueLogError(d,{logLevel:b,attribution:a,
message:e})},getTwisterColorFromState:function(c){if(c){var a="",e=Object.keys(c).sort();b.each(e,function(b,e){c[e]&&(a+=" "+c[e])});return a&&a.substring(1)}},customerId:""}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(m,b,f,ha,g,F){function E(c,d,g,k){!a.autoplayVideo||ea||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&(g=e.getCurrentItem(),!k||a.prioritizeVideos||
"chromeless-video"===g.type&&a.autoplayVideo)&&(k=f.getVideoHash(g.color,0,a),-1===k||g.thumbnailIndex>=a.maxAlts-1||(d+=0,L.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:k.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),f.selectGivenThumbnail(b(d),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,z,c))}function K(b){if(!a.twisterInteractionSimplificationEnabled){var c=e.getCurrentItem().color;
if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:e.getCurrentItem()};L.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():C.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}}function n(b){if(!a.useChildVideos)return f.lazyLoadingRequired(e.getCurrentItem(),e,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){K(a)},ha.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function P(b){A&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(A.hide(),x.parent().css("z-index",-1),y&&y.hide())}function D(b,c,e){c=z.width()/z.height();var d=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,
d,g,x);if(A&&"unrolled-video-add"!==e)A.show(),f.loadMediaIntoAiry(A,b,da,a.tabletWeb);else if(a.tabletWeb)A=V;else{if("unrolled-video-add"===e){A=V;return}if(null===V||V===X)aa=setInterval(function(){A=V;A!==X&&null!==A&&(A.show(),f.loadMediaIntoAiry(A,b,da,a.tabletWeb),q(),T(A),clearInterval(aa),aa=null)},500);else if(A=V,A!==X&&null!==A){A.show();f.loadMediaIntoAiry(A,b,da,a.tabletWeb);q();T(A);return}}q();T(A)}function q(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<
f.getVideosCount(e.getCurrentItem().color,a)&&y){if(f.isDefined(O)){y.show();return}O=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);y.find("#videoCaption").append(O);m.declarative.create(O,"videoIngressClick",Q)}f.playVideoInImmersiveView(a,e.getCurrentItem().color)&&(m.declarative.create(x,"videoIngressClick",Q),x.attr&&x.attr("data-ux-click",""),x.children().css("z-index","-1"),x.css("display","inline-block"))}else y&&(y.find("#videoCaption").text(a.staticStrings.playVideo),
y.show())}function B(c,e){if("chromeful-video"===c.type||"chromeless-video"===c.type||"unrolled-video-add"===e){var d=f.getVideoHash(c.color,c.index,a);if(-1===d)return-1;if(a.isMediaBlock&&(Q={type:c.type,index:c.index,thumbnailIndex:c.thumbnailIndex,variant:c.variant},"updatedData"!==ca)){var g=b("#main-image-container").find(".item.itemNo"+c.thumbnailIndex).find(".a-list-item");f.isjQueryObjDefined(g)&&(g.find("#video-outer-container").length||b("#main-image-container").find("#video-outer-container").detach().appendTo(g))}"chromeful-video"===
c.type&&D(d,c.thumbnailIndex+1,e)}}function t(a){qa||(qa=!0,g.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function u(b,c,e){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===e)return 0;c=n(c);f.isDefined(c)&&(W(J),a.imageBlockRenderingStartTime&&g.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return b}function N(c,d,l,h){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===
h)return c=0;if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&l)return c;var p=n(d);d=c;h=b(".unrolledImg");var oa=f.isDefined(p)&&0<p.length&&a.alwaysIncludeVideo?1:0;f.isDefined(p)&&0<p.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&g.postCountMetric("IBVideoDrop");h.length>a.maxAlts&&h.each(function(c){c>=a.maxAlts&&b(this).remove()});oa&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):
r.find(".item:last").remove(),c--);f.isDefined(p)&&(b.each(p,function(d,h){if(c<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+l+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||M(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var m={type:l,index:d,thumbnailIndex:c,variant:h.variant};Q={type:"video-ingress",index:d,thumbnailIndex:c,variant:h.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
l&&(fa+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(fa+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(fa+=" videoImageBlockGridView");f.createThumbnail(m,h.thumb,r,fa);2===a.dp60VideoPosition&&M(r,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(H(r.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),d=1<p.length?"multiple-videos":"one-video",(m=1<p.length?p.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&r.find(".videoBlockIngress").append(r.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(d));ta=f.useTabbedImmersiveView(a)?p.map(function(a){return a.mediaObjectId}).join(","):h.mediaObjectId;h=g.buildNexusMetric("ib.thumbnailRender",c+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,ba,Z,ja,Y,ta);d=R(a,e.getCurrentItem().color);d!==h.pageAsin&&(h.pageAsin=d,h.pageUrl=k(d));g.emitNexusMetric(h);t(l)}c++}if(f.useTabbedImmersiveView(a))return!1}),
E(r,d,c,l),W(J),a.imageBlockRenderingStartTime&&g.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return c}function M(c,e){if(0!==e)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var d=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage");c=c.children(".thumbType"+d);f&&c&&f[e-1]&&b(f[e-1]).before(c[0]);c=b(".unrolledScrollBox .list-unrolled");f=c.children(".unrolledImg.imgMedia");
c=c.children(".unrolledImg.videoMedia");f&&c&&f[e-1]&&b(f[e-1]).before(c[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&(c=e);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),f&&c&&f[e-1]&&b(f[e-1]).before(c[0])}function H(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function T(b){a.autoplayVideo&&b&&!ea&&(y&&f.toggleVideoCaption(y),b.setVolume(0),b.show(),b.play(),ea=!0)}function d(c){A&&A.pause();c.data=Q;c.clickTimeStamp=c.$event.timeStamp;var e="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";L.dispatch("imageClick",c);g.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=g.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,f.customerId,a.videos[0].groupType,ba,Z,ja,Y);g.emitNexusMetric(c);g.postCountMetric(e);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function h(a){null!==A&&A!==X&&(A.frame&&A.frame.remove(),A=null,V.frame&&V.frame.remove(),V=null);V=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");V.hide=function(){V.pause();
m.$("#main-video-container").find(".vse-player-container").hide()};V.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};V.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function l(c,g,k,h,l,n){P(n);x=null!==n?b("#unrolledImgNo"+n.thumbnailIndex):h.find("#main-video-container");xa&&(y=null!==n?"":x.parent().find("#video-canvas-caption"));z=null!==n?b(".unrolledScrollBox"):b("#main-image-container");null===n&&f.isImageBlockGridViewDisplayEnabled()&&(x.addClass("videoCenter"),
h.find("#video-outer-container").addClass("videoWrapperCenter"));ba=p.location.href;c=e.getCurrentItem().color;!0===l?Z=a.mediaAsin:(Z=a.colorToAsin[c]&&a.colorToAsin[c].asin,Z=f.isDefined(Z)?Z:a.mediaAsin);a.useChromelessVideoPlayer||x.addClass("chromeful-container");null!==n?B(n,"unrolled-video-add"):B(e.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&m.declarative("videoIngressClick",["click"],d);if(-1!==r&&null!==n){c=e.getCurrentItem().color;var r=f.getVideoHash(c,n.index,a);l={requester:"MediaBlockSoftlines",
marketplaceID:r.marketPlaceID,clientPrefix:"mbSoftlines"+n.thumbnailIndex,locale:r.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:r.url,imageURL:r.slateUrl},product:{contentID:R(a,c),contentIDType:"ASIN"}};F.get(m,"#unrolledImgNo"+n.thumbnailIndex,l,function(){m.$("#unrolledImgNo"+n.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function I(a,
c){function e(){var a=Math.floor((r.width()-1)/h);return f?a-1:a}function d(a){a=e();c.slice(a).hide();c.slice(0,a).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){b(this).parent().attr("aria-hidden","true")});if(a<c.length){var d=a-1;a=c.eq(d);c.eq(d).find("img").parent().attr("aria-hidden","false");d=c.length-d;d=b("\x3cspan\x3e").addClass("textMoreImages").text(d+"+");a.find("img").after(d);a.addClass("overlayRestOfImages")}}var f=0!=
r.find(".item.videoThumbnail").length,g=c.eq(0).width(),k=c.eq(1).position().left-c.eq(0).position().left-g,h=g+k;d();a.register("resize",d)}function U(a){var b=r.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==X&&c.decode().then(function(){I(a,b)})}}function W(a){try{if(!a)return!1;ra=a;ma=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==pa&&pa.disconnect();0<ma.length&&(pa=new IntersectionObserver(S,
a));ma.forEach(function(a){pa.observe(a)})}catch(ya){g.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function S(a){ra(a,va,ua,ma,wa)}function J(a,c,d,f,k){try{b.each(a,function(a,g){var h=b(f).index(g.target);g.isIntersecting?na[h]||(na[h]=setTimeout(function(){c=c.slice();c.push(h);d=c.sort(function(a,b){return a-b});var a=w(d,k);if(0!==a.length&&0!==d.length){var b=e.getCurrentItem().color;b=n(b);G(b,a);delete na[h]}},1E3)):(clearTimeout(na[h]),delete na[h],c=c.filter(function(a){return a!==
h}),d=c.sort(function(a,b){return a-b}))})}catch(Aa){g.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function w(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function G(a,c){try{if(!a||!c||0===a.length||0===c.length)return!1;b.each(c,function(b,c){if(c=1===ma.length?a[0]:a[c])b=g.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,p.location.href,Z,ja,Y),g.emitNexusMetric(b)})}catch(za){g.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function R(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function k(a){ba=p.location.href;return ba.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var c,a,e,L,r,x,y,z,O,ca,A,da,Q,v,V,Z,ba,ja,Y,ka,ia,la,qa=!1,ea=!1,fa="videoThumbnail",aa=null,pa=null,ua,wa=[],ma,va=[],ra=null,sa=m.state("imageBlockStateData"),xa=sa?!sa.shouldRemoveCaption:!0,na={},ta;return function(d,k,n,p){c=this;a=d;e=k;L=p;da=a.airyConfig;
ja=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;f.customerId=f.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ka="tablet",Y="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(ka="tablet",m.capabilities.isAmazonApp&&(Y="applicationType.ImageBlock.vse_ib_tablet_app")):(ka="desktop",Y="desktop_web.ImageBlock.vse_ib_iv");c.render=function(c,d,g,h,k,n,p,q){a.isMediaBlock&&(O=X,ca=
q);if(null!==aa||a.twisterInteractionSimplificationEnabled&&"swatchClick"===q)clearInterval(aa),aa=null,x&&x.parent&&x.parent().css("z-index",-1),y&&y.hide&&y.hide();if(!a.twisterInteractionSimplificationEnabled||"swatchClick"!==q){p=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){r=b("ul.regularAltImageViewLayout");v=N(d,c,n,q);p=[];d=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});
for(q=0;q<d.length;q++){var z=d[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",t=Number(d[q].classList[2].slice(10)),w=b(".thumbItemUnrolled").index(d[q]);p.push({color:c,thumbnailIndex:w,type:z,varient:"MAIN",index:t})}for(q=0;q<p.length;q++)l(c,g,h,k,n,p[q])}else r=h,v=a.isMediaBlock?u(d,c,q):N(d,c,n,q),l(c,g,h,k,n,null),c=e.getCurrentItem().color,g=f.getVideoHash(c,0,a),-1!==g&&(c=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,c,g):{requester:"MediaBlockSoftlines",
marketplaceID:g.marketPlaceID,clientPrefix:"mbSoftlines",locale:g.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:g.url,imageURL:g.slateUrl},product:{contentID:R(a,c),contentIDType:"ASIN"}},F.get(m,"#main-video-container",c,function(){m.$("#main-video-container").find(".vse-player-container").hide()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&U(L);return v}};
c.setupIntersectionObserverToWatchVideoThumbnail=W;c.emitMultipleImpressionMetric=G;f.isImageBlockGridViewHoverDelayEnabled()?c.update=function(b){null!==aa&&(clearInterval(aa),aa=null,x&&x.parent&&x.parent().css("z-index",-1),y&&y.hide&&y.hide());var c=b.data;"ingress"===c.type||"swatchHover"===b.type||f.lazyLoadingRequired(c,e,a)||(e.setToPreviousItem(),"mouseenter"===b.type?(la&&clearTimeout(la),la=setTimeout(function(){e.setToCurrentItem(c);P(null)},f.getHoveringDelayTimer())):"mouseleave"===
b.type?la&&clearTimeout(la):"click"===b.type&&(e.setToCurrentItem(c),P(null)));if("swatchHover"===b.type)"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||P(null),c.color===e.getCurrentItem().color?B(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&B(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(g.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+v),d=g.buildNexusMetric("ib.thumbnailHover",
c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Z,ja,Y),g.emitNexusMetric(d),ia&&clearTimeout(ia),ia=setTimeout(function(){B(c,"");!a.usePeekHover&&m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,r)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ia&&clearTimeout(ia):"click"===b.type&&(B(c,""),m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,r),
d=g.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Z,ja,Y),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ka)&&g.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(g.emitNexusMetric(d),g.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+v),Q.action="videoIngressClick",Q.clickTimeStamp=b.$event.timeStamp,Q.$event=b.$event,Q.$currentTarget=b.$currentTarget,L.dispatch("videoIngressClick",Q),g.postTimeMetric("dpcc_vse_videoingressclick",
b.$event.timeStamp))))}}:c.update=function(b){null!==aa&&(clearInterval(aa),aa=null,x&&x.parent&&x.parent().css("z-index",-1),y&&y.hide&&y.hide());var c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||P(null);if("swatchHover"===b.type)c.color===e.getCurrentItem().color?B(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&B(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){g.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+v);var h=g.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Z,ja,Y);g.emitNexusMetric(h)}B(c,"");a.usePeekHover&&"click"!==b.type||!m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(a.isMediaBlock||f.selectGivenThumbnail(b.$declarativeParent,r),"click"===b.type&&(d=g.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Z,ja,Y),
(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ka)&&g.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(g.emitNexusMetric(d),g.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+v),Q.action="videoIngressClick",Q.clickTimeStamp=b.$event.timeStamp,Q.$event=b.$event,Q.$currentTarget=b.$currentTarget,L.dispatch("videoIngressClick",Q),g.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(!a.twisterInteractionSimplificationEnabled&&a.isDPXFeatureEnabled)m.on("triggerVideoAjax",
K);m.on("vsePlayer-imageblock_tablet",h);m.on("vsePlayer-mbsoftlines",h)}});"use strict";C.when("ImageBlockBTF","postMetric","MediaBlockTwisterRefreshDataLoader").register("ImageBlockInitViews",function(m,b,f){function X(b,f,E,K,n){function g(a){"click"===a.type&&K.postCountMetric("thumbClick");w.isMediaBlock&&(E.selectGivenThumbnail(a.$declarativeParent,k),q(a));"click"===a.type&&w.overrideAltImageClickAction?G.dispatch("thumbActionClick",a):G.dispatch("updateSelection",a)}function D(){f("#imageBlock .canvas").find("li").removeClass("selected");
(c?!c.shouldRemoveCaption:1)&&f("#image-canvas-caption #canvasCaption").empty();E.hideUnavailable()}function q(a){D();var b=a.data.thumbnailIndex,c=f("#imageBlock .canvas").find(".item.itemNo"+b);E.isjQueryObjDefined(c)?(c.addClass("selected"),p.logSlotLoadedMarker&&p.logSlotLoadedMarker(b)):(E.showUnavailable(a.data.color),K.postCountMetric("mediaBlock_pv_slot_missing_on_thumbnail_"+b),p.ueLogError&&p.ueLogError({message:"Thumbnail item not found for index: "+b},{logLevel:"Error",attribution:"mediaBlock-desktop-pv-thumbnail-item-missing"}))}
function B(a){w.useClickZoom||G.dispatch("imageClick",a)}function t(a){w.useClickZoom||G.dispatch("imageHover",a)}function u(a){G.dispatch("button360Click",a)}function F(a){G.dispatch("captionClick",a)}function M(a){!E.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(J.update(a),"swatchHover"!==a.type&&R.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&K.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(J.render(a.data.color,
!1,a.onload,a.type),w.twisterInteractionSimplificationEnabled||(a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",a)))}function H(a){G.dispatch("resize",a)}function T(a){E.selectThumbnail(a,k)}function d(){"function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function h(){w.interactiveCallJSPEnabled||
("function"===typeof p.markFeatureInteractive&&(w.twisterInteractionSimplificationEnabled?p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]}):p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]})),1===m.useIV?C.when("a-modal").execute(function(){d()}):
d());w.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],g);b.declarative("thumb-action",["click"],g);b.declarative("main-image-click",["click"],B);b.declarative("main-image-click",["keydown"],function(a){var b=a.$event;"keyCode"in b&&13===b.keyCode&&B(a)});b.declarative("main-image-click",["mouseenter","mouseleave"],t);b.declarative("button-360-click",["click"],u);b.declarative("iv-open-caption-click",["click"],F);b.on("resize",H)}function l(a){var b=a.data,c;b&&"ingress"!==
b.type&&"click"===a.type&&(c=a);return c}function I(a){var b=R.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function U(){var a=k.find(".item.imageThumbnail");if(!(1>=a.length)){var b=R&&R.getCurrentItem()&&R.getCurrentItem().color;b=(b=w.colorImages&&b&&w.colorImages[b])&&b.length;a.removeClass("overlayRestOfImages");a.length<b&&(a.eq(a.length-1).addClass("overlayRestOfImages"),a=document.createElement("div"),a.className="lastAltImageOverlay",(b=(b=(b=document.getElementsByClassName("overlayRestOfImages")[0])&&
b.getElementsByTagName("img"))&&0<b.length&&b[0])&&b.parentNode&&(b.parentNode.insertBefore(a,b),b=(b=b.parentNode.getElementsByClassName("textMoreImages"))&&0<b.length&&b[0]))&&("T1"===w.desktopCollapsibleThumbnailsExperience?(b.classList.add("textMoreImages-t1"),a.classList.add("lastAltImageOverlay-t1"),K.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===w.desktopCollapsibleThumbnailsExperience&&(b.classList.add("textMoreImages-t2"),a.classList.add("lastAltImageOverlay-t2"),K.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}
function W(a,b){a.data.color===R.getCurrentItem().color?q(a):(D(),b.find(".swatchHoverExp").addClass("selected"))}function S(a){E.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&E.updateThumbnailHoverDelay(a.$target)}var J,w,G,R,k,c=b.state("imageBlockStateData");return function(a,b,c){J=this;w=a;G=b;R=c;k=f("#imageBlock #altImages ul");var d=f("#imageBlock .canvas"),e=f("#main-image-container"),g;J.subViews=[];for(b=0;b<n.length;b++)J.subViews.push(new n[b](a,c,J,G));J.render=function(a,
b,c,h){var l=0;k=f("#imageBlock #altImages ul");d=f("#imageBlock .canvas");e=f("#main-image-container");w.isMediaBlock&&"swatchClick"===h&&(G.dispatch("updateTwisterHoverState",!1),D(),f("#imageBlock .canvas").find(".desktop-media-mainView").empty());w.isMediaBlock||w.twisterInteractionSimplificationEnabled&&"swatchClick"===h||k.find(".item").remove();a=a||R.getCurrentItem().color;f.each(J.subViews,function(f,g){l=(w.twisterInteractionSimplificationEnabled||2===w.unrolledImageBlockTreatment||3===
w.unrolledImageBlockTreatment?g.render(a,l,d,k,e,b,c,h):g.render(a,l,d,k,e,b,c))||l});w.isMediaBlock||"T1"!==w.desktopCollapsibleThumbnailsExperience&&"T2"!==w.desktopCollapsibleThumbnailsExperience||U();var m=k.find(".a-button-selected").closest(".a-declarative");g=I(m)};J.init=function(){k=f("#imageBlock #altImages ul");var a=k.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=w.landingAsinColor||w.defaultColor;G.dispatch("updateModel",{data:a});J.render(a.color,
!0);w.isDebug&&p.console&&console.log(w);G.register("updateView",M);G.register("selectThumbnail",T);h()};J.update=function(a){S(a);w.isMediaBlock&&"swatchHover"===a.type&&R.getShouldUpdateOnTwisterHover()&&W(a,d);f.each(J.subViews,function(b,c){c.update(a)});w.isMediaBlock&&G.dispatch("updateTwisterHoverState",!0);w.usePeekHover&&("mouseleave"===a.type?G.dispatch("updateSelection",g):"click"===a.type&&(g=l(a)||g))}}}b=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);C.when.apply(C,b).register("ImageBlockView",
function(){for(var b=arguments[0],f=arguments[1],m=arguments[2],p=arguments[3],n=[],C=4,D=arguments.length;C<D;C++)n.push(arguments[C]);return X(b,f,m,p,n)})})});
/* ******** */
(function(E){var r=window.AmazonUIPageJS||window.P,na=r._namespace||r.attributeErrors,k=na?na("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):r;k.guardFatal?k.guardFatal(E)(k,window):k.execute(function(){E(k,window)})})(function(E,r,na){E.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(k,b,c,h,m){function da(a,e){var c=b(a+" image").attr("data");b(a+" image")[0].setAttribute("href",
c);a=new Image;a.src=c;a.onload=function(){e(this.width/this.height)}}function u(a){null!==b(a.euclidSvg)&&(new Promise(function(b,c){da(a.euclidSvg,b)})).then(function(e){if(null===b(a.featureDiv)||0===b(a.featureDiv).length||0>=e)var c=null;else{var T=b(a.featureDiv).width(),d=b(a.featureDiv).height(),g=2*(16+v(a.euclidHeightText,a.numberSpace)+10),q=T-g,k=b(a.euclidHeightLine).data("euclid-height-startx");0>k?g+=q*Math.abs(k)*2:1<k&&(g+=q*(k-1)*2);q=T-g;0>q&&(g=152);var l=b(a.euclidWidthLine).data("euclid-width-starty"),
ea=1<l?d*(l-1)+50:50,n=d-ea;if(q/n>e)var U=n*e,Y=n,K=n*e+g,t=d;else U=q,Y=q/e,K=T,t=q/e+ea;c={imageWidth:U,imageHeight:Y,svgWidth:K,svgHeight:t}}if("undefined"===typeof c||null===c||10>=c.imageWidth||10>=c.imageHeight||10>=c.svgWidth||10>=c.svgHeight)m.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var N=c,p=a.euclidSvg;b(p+" image").attr("width",N.imageWidth);b(p+" image").attr("height",N.imageHeight);b(p).attr("width",N.svgWidth);b(p).attr("height",N.svgHeight);var x=(N.svgWidth-N.imageWidth)/
2;b(p+" image")[0].setAttribute("x",x);b(p+" image")[0].setAttribute("y",10);var ca=N.imageWidth,F=N.imageHeight,h=(N.svgWidth-N.imageWidth)/2,u=b(a.euclidLengthLine).data("euclid-length-startx")*ca,y=b(a.euclidLengthLine).data("euclid-length-starty")*F,z=b(a.euclidLengthLine).data("euclid-length-endx")*ca,A=b(a.euclidLengthLine).data("euclid-length-endy")*F,Z=b(a.euclidWidthLine).data("euclid-width-startx")*ca,D=b(a.euclidWidthLine).data("euclid-width-starty")*F,V=b(a.euclidWidthLine).data("euclid-width-endx")*
ca,B=b(a.euclidWidthLine).data("euclid-width-endy")*F,L=b(a.euclidHeightLine).data("euclid-height-startx")*ca,da=b(a.euclidHeightLine).data("euclid-height-starty")*F,G=b(a.euclidHeightLine).data("euclid-height-endx")*ca,qa=b(a.euclidHeightLine).data("euclid-height-endy")*F,gb=(B-D)/(V-Z),hb=0>=gb?"leftInclined":"rightInclined",Ra=1/gb,oa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===oa?16:Math.abs(Ra*oa),ra=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),W=0===ra?3:Math.abs(Ra*
ra),M=(A-y)/(z-u),E=1/M,r=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(E,2)))),C=0===r?16:Math.abs(E*r),H=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(E,2)))),J=0===H?3:Math.abs(E*H),ha=0>=M?"leftInclined":"rightInclined";if(.5<b(a.euclidHeightLine).data("euclid-height-startx")){var R=L+h+16,S=da+10,ka=G+h+16,X=qa+10,ba=L+h+16-3,ja=da+10,fa=L+h+16+3,na=da+10,ib=G+h+16-3,jb=qa+10,kb=G+h+16+3,lb=qa+10,mb=(R+ka)/2+5,nb=(S+X)/2+8,za=V+h+oa,Aa=B+pa+10,Ba=Z+h+oa,Ca=D+pa+10,ob=V+h+oa-ra,pb=B+pa-W+10,qb=
V+h+oa+ra,rb=B+pa+W+10,sb=Z+h+oa-ra,tb=D+pa-W+10,ub=Z+h+oa+ra,vb=D+pa+W+10;if("leftInclined"===hb){var Sa=(za+Ba)/2;var Ta=(Aa+Ca)/2+15}else Sa=(za+Ba)/2+5,Ta=(Aa+Ca)/2;var Da=u+h-r,Ea=y+C+10,Fa=z+h-r,Ga=A+C+10,wb=u+h-r-H,xb=y+C+J+10,yb=u+h-r+H,zb=y+C-J+10,Ab=z+h-r-H,Bb=A+C+J+10,Cb=z+h-r+H,Db=A+C-J+10,Gb=v(a.euclidLengthText,a.numberSpace);if("leftInclined"===ha)var Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15;else Ua=(Da+Fa)/2-Gb,Va=(Ea+Ga)/2+15}else{R=L+h-16;S=da+10;ka=G+h-16;X=qa+10;ba=L+h-16-3;ja=da+10;fa=L+
h-16+3;na=da+10;ib=G+h-16-3;jb=qa+10;kb=G+h-16+3;lb=qa+10;var Hb=v(a.euclidHeightText,a.numberSpace);mb=(R+ka)/2-Hb-3;nb=(S+X)/2+8;za=V+h-oa;Aa=B+pa+10;Ba=Z+h-oa;Ca=D+pa+10;ob=V+h-oa-ra;pb=B+pa+W+10;qb=V+h-oa+ra;rb=B+pa-W+10;sb=Z+h-oa-ra;tb=D+pa+W+10;ub=Z+h-oa+ra;vb=D+pa-W+10;var Eb=v(a.euclidWidthText,a.numberSpace);"leftInclined"===hb?(Sa=(za+Ba)/2-Eb,Ta=(Aa+Ca)/2):(Sa=(za+Ba)/2-Eb,Ta=(Aa+Ca)/2+15);Da=u+h+r;Ea=y+C+10;Fa=z+h+r;Ga=A+C+10;wb=u+h+r+H;xb=y+C+J+10;yb=u+h+r-H;zb=y+C-J+10;Ab=z+h+r+H;Bb=
A+C+J+10;Cb=z+h+r-H;Db=A+C-J+10;"leftInclined"===ha?(Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15):(Ua=(Da+Fa)/2+15,Va=(Ea+Ga)/2)}var Ib=Da;var Jb=Ea;var Kb=Fa;var Lb=Ga;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Ua;var Vb=Va;var Wb=za;var Xb=Aa;var Yb=Ba;var Zb=Ca;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=Sa;var ic=Ta;var jc=R;var kc=S;var lc=ka;var mc=X;var nc=ba;var oc=ja;var pc=fa;var qc=na;var rc=ib;var sc=jb;var tc=kb;
var uc=lb;var vc=mb;var wc=nb;O(p+" .hit-pd-euclid-height-line",jc,kc,lc,mc);O(p+" .hit-pd-euclid-height-start",nc,oc,pc,qc);O(p+" .hit-pd-euclid-height-end",rc,sc,tc,uc);la(p+" .hit-pd-euclid-height-text",vc,wc);O(p+" .hit-pd-euclid-width-line",Wb,Xb,Yb,Zb);O(p+" .hit-pd-euclid-width-start",$b,ac,bc,cc);O(p+" .hit-pd-euclid-width-end",dc,ec,fc,gc);la(p+" .hit-pd-euclid-width-text",hc,ic);O(p+" .hit-pd-euclid-length-line",Ib,Jb,Kb,Lb);O(p+" .hit-pd-euclid-length-start",Mb,Nb,Ob,Pb);O(p+" .hit-pd-euclid-length-end",
Qb,Rb,Sb,Tb);la(p+" .hit-pd-euclid-length-text",Ub,Vb);Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(a===P&&"dimension-ingress-image"===I.getCurrentItem().type?(w(),b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),m.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
ma)):a===aa&&(b("ivDimensionTab").css("display","block"),f(b("#iv-euclid"),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),m.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ia)))}});Q("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&C(a===P,I.getCurrentItem(),null)}function v(a,e){return b(a).text().replace(/[^0-9]/g,"").length*e+5}function O(a,e,c,d,g){a=b(a)[0];a!==na&&null!==a&&(a.setAttribute("x1",e),a.setAttribute("y1",
c),a.setAttribute("x2",d),a.setAttribute("y2",g))}function la(a,e,c){var d=b(a)[0];d!==na&&null!==d&&(d.setAttribute("x",e),d.setAttribute("y",c),a=b(a+" tspan"),a!==na&&null!==a&&2===a.length&&(a[0].setAttribute("x",e),a[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),a[1].setAttribute("x",e),a[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function R(a){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length||b("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length){a=
G(a.color);if(null===a)return;if(a in L)Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&L[a].clone().appendTo(b(V));else{var e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");e.length?(Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&e.clone().appendTo(b(V)),L[a]=e):M(a)}}u(P)}}function M(a){try{setTimeout(function(){X++;var e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
e.length?(a in L||(L[a]=e),b("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=b("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&e.clone().appendTo(b(V)),u(P)):100>X&&M(a)},100)}catch(e){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+e)}}function Q(a){return"true"===b(a).attr("data-should-use-in-hero")}function C(a,
e,c){var d=l.colorImages[e.color],g=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");g&&0<g.length?(d=E(d),J(d,a,e,c)):S(d,a,e,c)}function S(a,e,c,d){try{setTimeout(function(){Y++;var g=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");g&&0<g.length?(g=E(a),J(g,e,c,d)):100>Y?S(a,e,c,d):(m.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),g=a[0],
J(g,e,c,d))},100)}catch(Ia){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+Ia)}}function E(a){for(var e=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),c=a[0],d=0;d<a.length;d++){var g=a[d];g.variant===e&&(c=g)}c===a[0]&&m.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function J(a,e,d,g){e?((e=U.find(".item.dimensionItemNo"+
d.thumbnailIndex))&&e.remove(),e=d.thumbnailIndex,g=B(a,g),d=U.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),d.addClass("image item dimensionItemNo"+e+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":e+1}),d.find(".placeHolder").replaceWith(g),d.find(".a-declarative").attr("data-action","dimension-hero-click"),U.find(".list").append(d),k.loadImageManually(g),
g=e=d,d=Z.css("height"),null!==d&&g.find(".imgTagWrapper").css("height",d),g.addClass("selected"),l.imgTagWrapperClasses&&g.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses),ba.dispatch("loadMagnifier"),g=e,l.useIV&&c.isDefined(a.hiRes)&&g.css("cursor","pointer"),k.trigger("dp:image-block:update",a)):(H(a),f(b("#iv-seller"),b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function H(a){var e=b("#ivDimensionTab #ivLargeDimensions");if(0<e.find(".imgTagWrapper").length){var c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");
return r(e,c)}c=b("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var d=b("\x3cimg\x3e");c.html(d);e.append(c);c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",a.hiRes);return r(e,c)}function r(a,b){a=a.closest("#ivStageDimensions");var e=a.width();a={height:"auto","max-height":a.height(),"max-width":e,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");b.css(a);return b}function B(a,e){var d="a-dynamic-image";if(!l.acEnabled){var g;b.each(a.main,function(a,
b){c.isDefined(g)||(g=parseFloat(b[1]/b[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var f=c.getMaxDimensionsOfMainImage(a.main,Z,l),q=f[0],k=f[1];f=b("\x3cdiv\x3e\x3c/div\x3e");q={"max-height":q,"max-width":k};f.addClass(d).css(q).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",a.main);return f}function x(){var a='\x3ca href\x3d"#"\x3e'+l.staticStrings.clickForFullView+"\x3c/a\x3e";b("#image-canvas-caption #canvasCaption").html(a);
a=b("#image-canvas-caption #canvasCaption a");k.declarative.create(a,"dimension-hero-click")}function G(a){var b=l.colorToAsin[a];return b&&b.asin?a=l.colorToAsin[a].asin:a=l.mediaAsin?l.mediaAsin:null}function d(){b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function w(){null!==b(P.euclidSvg)&&0!==b(P.euclidSvg).length?(b("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),
b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):C(P,I.getCurrentItem(),null)}function A(a,b){l.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function y(a){a.action="dimensionIngressClick";a.data=N;ba.dispatch("dimensionIngressClick",a)}function D(){ia=Date.now();if(ca&&!b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var a=G(I.getCurrentItem().color);if(null!==a){b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
var e=b("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",e);a in L?L[a].clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")):(e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),e.length?(e.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),L[a]=e):F(a));h.populateTitle(b("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,l);h.populateVariationSelection(b("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));
ka();ca=!1}a=b("#iv-tab-view-container").find("#ivThumbsDimensions");a.find(".ivRow").not(".placeholder").remove();e=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a);var c=0<b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,d=0<b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var g=
l.colorImages[I.getCurrentItem().color];g=E(g);H(g);b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}q(a,e,g.thumb,b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}d&&(g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),q(a,e,g,b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}t()}function t(){ha=b("#ivDimensionTab").height();if(0!==
ha){h.detachImmersiveViewResizeHandler(D);var a=b("#ivDimensionTab #ivMainDimensions"),e=b("#ivDimensionTab").height(),c=b("#ivDimensionTab").width();a.css("height",e);a.css("width",c);c=a.find("#ivTitleDimensions").outerHeight(!0);var d=a.find("#ivVariationSelectionDimensions").outerHeight(!0),g=a.find("#ivThumbsDimensions"),f=h.getDimension(g,"margin-top")+h.getDimension(g,"margin-bottom");g.css("height",e-c-d-f);c=a.find("#ivStageDimensions");a=(a[0]&&a[0].getBoundingClientRect&&Math.floor(a[0].getBoundingClientRect().width)||
a.width())-h.getDimension(a,"padding-left")-h.getDimension(a,"padding-right")-a.find("#ivThumbColumnDimensions").width()-h.getDimension(c,"margin-left")-h.getDimension(c,"margin-right");c.css("width",a);c.css("height",e);u(aa)}}function q(a,b,c,d,g){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:g}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(c)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");K(a,d)}function K(a,
b){a.click(function(){f(a,b)})}function f(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&r(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function F(a){try{setTimeout(function(){g++;var c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(a in L||(L[a]=c),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),t()):100>g&&F(a)},100)}catch(e){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+e)}}function W(a,e){n&&clearTimeout(n);"mouseenter"===e.type&&(n=setTimeout(function(){R(a);b("#image-canvas-caption #canvasCaption").empty();x();A(ea,e)},c.getHoveringDelayTimer()));"mouseleave"===e.type&&x()}var p,l,I,ba,ea,U,Z,N,ca=!0,ma,ia,n,z,L=
{},X=0,g=0,Y=0,V="#imageBlock #main-image-container",ha,P={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",
euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},aa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",
euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ka=k.once(function(){h.attachImmersiveViewResizeHandler(D)});k.on.resize(function(){Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&u(P)});return function(a,e,f,q){p=this;l=a;I=e;ba=q;l.isMediaBlock&&(V="#imageBlock #main-image-container #dimension-ingress-container");a=l.mediaAsin;e=[];l&&l.dimensionIngressAtfData&&
l.dimensionIngressAtfData.initial&&(e=l.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(a,l.dimensionIngressEnabled,e);p.render=function(a,e,d,f,q,k,h,n){ea=f;U=2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment?d:b(".unrolledScrollBox");Z=q;ca=!0;b("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions").empty();
g=X=0;d=G(I.getCurrentItem().color);if(null!==d){if(c.isDimensionIngressEnabled(d)&&(!l.twisterInteractionSimplificationEnabled||"swatchClick"!==n)&&l.dimensionIngressThumbURL&&l.dimensionIngressThumbURL.initial&&l.dimensionIngressThumbURL.initial.length){if(!l.isMediaBlock){n=c.getDimensionVariantList(d);if(n.includes("DIMN")||n.includes("DCMN"))Array.isArray(n)||(n=JSON.parse(n.replace(/(\w+)/g,'"$1"'))),n.push("DIMN"),n.push("DCMN");if(n&&0<n.length)for(d=l.colorImages[a],q=f.find(".item.imageThumbnail"),
k=0;k<q.length&&k<l.maxAlts-1;k++)if(h=d[k].variant,"MAIN"!=h&&n.includes(h)&&(h=q.eq(k)))h.remove(),e--;e===l.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),e--);N={type:"dimension-ingress-image",index:0,thumbnailIndex:e,variant:"Main"};c.createThumbnail(N,l.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=l.dimensionIngressAtfData.initial.thumbnailCaption;f=b("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
f.attr("id","dimensionCaption");b(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");b(".dimension-ingress-imageblock-thumbnail").append(f);e++}b("#ivDimensionTabHeading").removeClass("aok-hidden");G(a)!==l.mediaAsin&&0===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&b("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return e}b("#ivDimensionTabHeading").addClass("aok-hidden")}};p.update=function(a){var e=a.data;
I.setCurrentEvent(a);l.isMediaBlock&&(N=a.data);"dimension-ingress-image"===e.type?(e.interaction=a.type,e.isUserGenerated=!0,"mouseenter"===a.type&&(ma=Date.now(),m.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?W(e,a):(R(e),l.isMediaBlock||(b("#image-canvas-caption #canvasCaption").empty(),A(ea,a)),x()),"click"===a.type&&c.useTabbedImmersiveView(l)&&(y(a),m.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===a.type?e.color===I.getCurrentItem().color&&
"dimension-ingress-image"===I.getCurrentItem().type?w():d():c.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===a.type&&(z&&clearTimeout(z),z=setTimeout(function(){I.setToCurrentItem(e);d()},c.getHoveringDelayTimer())),"mouseleave"===a.type&&z&&clearTimeout(z),"click"===a.type&&(I.setToCurrentItem(e),d())):d()};h.attachTabSelectHandler("ivDimensionTab",D);k.declarative("dimension-hero-click",["click"],y)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(k,b,c,h,m){function r(){m.populateTitle(d.find("#ivTitle"),160,x)}function u(){var b=G.getCurrentItem().color;A=x.colorImages[b];w=x.heroImage[b];y=D=0;c.isDefined(w)&&(y=w.length);c.isDefined(A)&&(D=A.length)}function v(b){return b.hiRes||b.large||b.main[b.main.length-1]}function O(){var b=d.find("#ivStage").find("#ivLargeImage"),c=b.width(),k=b.height(),h=b.find(".fullscreen");h.removeAttr("style");var l=h.width(),
m=h.height();0<h.length&&(h[0].naturalWidth&&(l=h[0].naturalWidth),h[0].naturalHeight&&(m=h[0].naturalHeight));b.css("cursor","auto");l=0===l?1:l;m=0===m?1:m;var p=Math.min(c/l,k/m),n=m*p,w=l*p;1>p?(q?b.css("cursor","url('"+x.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),F=!0):F=!1;l=Math.min(w,l);m=Math.min(n-20,m);h.css({"margin-top":(k-m)/2,"margin-left":(c-l)/2,height:m,width:l});b.css("visibility","visible");f=!1}
function E(b){var c=d.find("#ivLargeImage");c.css("visibility","hidden");c.empty();m.animateStageIn(c);c.append(b);O()}function R(f){d.find("#ivLargeImage").css("display","none");d.find("#ivLargeImage").css("display","block");var q;"hero-image"===f?c.isDefined(w)&&(q=v(w[t.index])):c.isDefined(A)&&(q=v(A[t.index]));if(c.isDefined(q)){d.find(".fullscreen").remove();var h=b("\x3cimg\x3e").attr("src",q).addClass("fullscreen"),l=d.find("#ivLargeImage");m.animateStageOut(l,function(){h.load(function(){E(h);
k.trigger("dp:image-block:imageBlockImmersiveImageLoad",t.index)});if(h[0].complete)E(h),k.trigger("dp:image-block:imageBlockImmersiveImageLoad",t.index);else{l.empty();var c=(l.height()-104)/2,d=(l.width()-80)/2;b("\x3cimg\x3e").attr("src",x.staticImages.spinner).css({position:"relative",top:c+"px",left:d+"px"}).appendTo(l)}})}}function M(b){d.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivHeroImage")?t.type="hero-image":t.type="image";t.index=b.attr("id").split("_")[1];
R(t.type);h.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(t.index,10)+1)+"_"+(y+D))}function Q(){x.isMediaBlock&&d.undelegate(".ivThumb","click");d.delegate(".ivThumb","click",function(){var c=b(this);M(c)})}function C(b,c){return 0<c?c/2:Math.min(0,Math.max(c,b))}function S(b){var c=p.top-(b.pageY-I[1])*l;b=C(p.left-(b.pageX-I[0])*l,W.left);c=C(c,W.top);d.find(".fullscreen").css({left:b,top:c})}function ja(){x.isMediaBlock&&d.undelegate("#ivLargeImage","click");d.delegate("#ivLargeImage","click",
function(b){if(f)O();else if(F){d.find(".fullscreen").removeAttr("style");if(F){var c=d.find("#ivLargeImage"),k=c.find(".fullscreen");q?c.css("cursor","url('"+x.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));f=!0;var m=d.find("#ivLargeImage");W.left=m.width()-k.width();W.top=m.height()-k.height();m=c.height()/2;var w=c.width()/2;I=[c.offset().left+w,c.offset().top+m];p.top=m-k.height()/2;p.left=w-k.width()/2;k.css({position:"relative",
left:p.left,top:p.top});l=Math.max(k.height()/c.height(),k.width()/c.width())}S(b);h.postCountMetric("dpcc_iv_largeImageCLick")}});x.isMediaBlock&&d.undelegate("#ivLargeImage","mousemove");d.delegate("#ivLargeImage","mousemove",function(b){f&&S(b)})}function J(){d.find("#ivLargeImage").empty()}function H(f){K?fa():r();f=b("#ivImagesTab").height();d.css("height",f);var q=d.find("#ivTitle").outerHeight(!0),k=d.find("#ivVariationSelection").outerHeight(!0),h=d.find("#ivThumbs"),l=m.getDimension(h,"margin-top")+
m.getDimension(h,"margin-bottom");h.css("height",f-q-k-l);d.find("#ivLargeImage").css("height",f);f=d.find("#ivStage");q=d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||d.width();f.css("width",q-m.getDimension(d,"padding-left")-m.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-m.getDimension(f,"margin-left")-m.getDimension(f,"margin-right"));t=G.getCurrentItem();f="hero-image"===t.type?d.find("#ivHeroImage_"+t.index):"image"===t.type?d.find("#ivImage_"+
t.index):c.isDefined(w)?d.find("#ivHeroImage_"+t.index):d.find("#ivImage_"+t.index);c.isjQueryObjDefined(f)||(f=d.find("#ivImage_0"));M(f)}function fa(f){d=b("#ivMain");u();t=G.getCurrentItem();r();m.populateVariationSelection(d.find("#ivVariationSelection"));var q=d.find("#ivThumbs");q.find(".ivRow").not(".placeholder").remove();var h=y+D,k=!1;x&&x.dimensionIngressAtfData&&x.dimensionIngressAtfData.initial&&(k=x.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var l=
0,p=0;l<h;)for(var F=q.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(q),n=0;4>n&&l<h;n++,l++,p++)if(p<y){var z=w[l].thumb,v=q.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+l,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(F);v.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(z)+
'") center no-repeat')}else if(p>=y&&p<D+y){z=x.colorToAsin[G.getCurrentItem().color].asin;z||(z=x.mediaAsin);if((v=c.isDimensionIngressEnabled(z))&&k){if((z=c.getDimensionVariantList(z))&&z.includes(A[l-y].variant)){n--;continue}}else if(v&&"DIMN"===A[l-y].variant){n--;continue}z=A[l-y].thumb;v=q.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-y),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":l-y+1}).appendTo(F);v.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(z)+'") center no-repeat')}f?(Q(),ja(),m.attachImmersiveViewResizeHandler(H),m.attachTabDeselectHandler("ivImagesTab",J)):ba();K=!1}var B,x,G,d,w,A,y,D,t,q=navigator.userAgent.match(/msie|trident/i),K=!0,f=!1,F=!1,W={},p={},l,I;K=!0;var ba=k.once(function(){Q();ja();m.attachImmersiveViewResizeHandler(H);m.attachTabDeselectHandler("ivImagesTab",J)});return function(c,d,f,q){B=this;x=c;G=d;
B.render=function(c,d,f,q,h,k,l,g){K=!0;x.isMediaBlock&&"updatedData"===g?fa(x.isMediaBlock):u();0===y+D?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===y+D?b("#ivThumbs").hide():b("#ivThumbs").show()};B.update=function(b){};m.attachTabSelectHandler("ivImagesTab",H)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(k,
b,c,h,m,da,u){function v(){var c=Q.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),h=c.find(".a-popover-inner");c=c.height()-u.getDimension(h,"padding-top")-u.getDimension(h,"padding-bottom");b("#iv-tab-view-container").css("height",c);ja=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<ja?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),h=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),
c-=h):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",c);k.trigger("dp:image-block:immersive-view:resize")}function O(){k.trigger("dp:image-block:immersive-view:reset")}function la(d){if(c.isImmersiveViewEnabled(M,Q.getCurrentItem().color))if(H){var w=d.$event.originalEvent;w.acknowledge&&w.acknowledge(d.$currentTarget[0]);m.isEnabled&&da.logImmersiveViewRequestServed(m);h.postCountMetric("dppc_immersiveViewOpened");c.isDefined(d)&&
("button-360-click"===d.action?b("#iv360TabHeading").click():"videoIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivShowroomTabHeading").click()):"dimensionIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivDimensionTabHeading").click()):b("#ivImagesTabHeading").click());w=Q.getImmersiveViewModalInstance();if(c.isDefined(w))w.show();else{d=b("#auiImmersiveViewDiv");w=Math.min(Math.max(b(r).height()-150,540),
1080);var u=Math.min(Math.max(b(r).width()-75,990),1980);w=H.create(d,{name:"immersiveView",activate:"onclick",width:u,height:w,popoverLabel:"ImmersiveView",hideHeader:!0});Q.setImmersiveViewModalInstance(w);d.click()}S&&(S=!1,fa(),k.trigger("dp:image-block:immersive-view:init"))}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}var R,M,Q,C,S=
!0,ja=0,J,H;E.when("a-modal").execute(function(b){H=b});var fa=k.once(function(){k.on("a:popover:afterUpdatePosition:immersiveView",v);k.on("a:popover:afterShow:immersiveView",v);k.on("a:popover:afterHide:immersiveView",O)}),B,x=k.once(function(){B=b("#iv-tab-view-container ul.iv-tab-views li");B.bind("click",function(c){var d=B.filter(".iv-active");d.attr("id")!==b(this).attr("id")&&k.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",c);B.removeClass("iv-active");b(this).addClass("iv-active");
b("#iv-tab-view-container .iv-tab-content").hide();d=b(this).find("a").attr("data-iv-tab-view");b("#"+d).show();"ivVideosTab"===d&&(c.clickTimeStamp=J||c.timeStamp);k.trigger("dp:ivTabs:"+d+":select",c);h.postCountMetric("dppc_"+d);return!1})}),G=function(){B.unbind("click");B=b("#iv-tab-view-container ul.iv-tab-views li");B.bind("click",function(c){var d=B.filter(".iv-active");d.attr("id")!==b(this).attr("id")&&k.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",c);B.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();d=b(this).find("a").attr("data-iv-tab-view");b("#"+d).show();"ivVideosTab"===d&&(c.clickTimeStamp=J||c.timeStamp);k.trigger("dp:ivTabs:"+d+":select",c);h.postCountMetric("dppc_"+d);return!1})};return function(b,u,v,y){R=this;M=b;Q=u;m.refToModel=Q;C=y;R.render=function(b,c,d,k,f,m,u,p){M.isMediaBlock&&"updatedData"===p&&G();h.postCountMetric("dpcc_altThumbs_"+c);S=!0};R.update=function(b){};R.getTitle=function(){};R.getVariationSelectionInfo=
function(){};x();c.isImmersiveViewEnabled(M,Q.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");C.register("imageClick",la);C.register("button360Click",la);(M.collapsibleThumbnails||"T1"===M.desktopCollapsibleThumbnailsExperience||"T2"===M.desktopCollapsibleThumbnailsExperience)&&k.declarative("thumb-action",["click"],function(b){if(M.isMediaBlock?"openImageImmersiveView"===b.data.actionOnClick:b.$declarativeParent.hasClass("overlayRestOfImages"))la(b),"T1"===M.desktopCollapsibleThumbnailsExperience?
h.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===M.desktopCollapsibleThumbnailsExperience&&h.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2")});c.useTabbedImmersiveView(M)&&(C.register("videoIngressClick",la),C.register("showroomIngressClick",la),C.register("dimensionIngressClick",la),C.register("captionClick",la))}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(k,b,c,h,m,da,u,v){function O(a){return a.hiRes||a.large||a.main[a.main.length-1]}function la(){g.find("#ivTitle").click(function(){X.hide()})}function R(){e=eb?{type:"360-spin"}:z.getCurrentItem()}function M(){var a=g.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-v.getDimension(c,"padding-top")-v.getDimension(c,"padding-bottom");g.css("height",b);c=g.find("#ivTitle").outerHeight(!0);var e=g.find("#ivVariationSelection").outerHeight(!0),
d=g.find("#ivMediaSelection").outerHeight(!0),f=g.find("#ivThumbs"),h=v.getDimension(f,"margin-top")+v.getDimension(f,"margin-bottom");f.css("height",b-c-e-d-h);g.find("#ivLargeImage").css("height",b);a.css("width",g.width()-v.getDimension(g,"padding-left")-v.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-v.getDimension(a,"margin-left")-v.getDimension(a,"margin-right"))}function Q(){g.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(g.find("#ivVideoList").hide(),
g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===e.type&&g.find("#ivVideo_"+e.index).click()):"images"===a?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===e.type&&(0===aa&&0===P?g.find("#iv360").click():0===aa?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):"videos"===a&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==e.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+
e.index).click())})}function C(){var a=g.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var d=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(d=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");d=0===d?1:d;f=0===f?1:f;var h=Math.min(b/d,c/f),q=f*h,k=d*h;1>h?(fb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),Na=!0):Na=!1;d=Math.min(k,d);f=Math.min(q-20,f);e.css({"margin-top":(c-f)/2,"margin-left":(b-d)/2,height:f,width:d});a.css("visibility","visible");Ma=!1}function S(a){var b=g.find("#ivLargeImage");b.css("visibility","hidden");b.empty();v.animateStageIn(b);b.append(a);C()}function ja(){db&&db.pause();g.find("#ivLarge360").css("display","none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display","none");G()}function J(a){ja();g.find("#ivLargeImage").css("display",
"block");var d;"hero-image"===a?c.isDefined(Y)&&(d=O(Y[e.index])):c.isDefined(V)&&(d=O(V[e.index]));if(c.isDefined(d)){g.find(".fullscreen").remove();var qa=b("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),f=g.find("#ivLargeImage");v.animateStageOut(f,function(){qa.load(function(){S(qa)});if(qa[0].complete)S(qa);else{f.empty();var a=(f.height()-104)/2,c=(f.width()-80)/2;b("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(f)}})}}function H(){var a;
c.isDefined(ha)&&(a=ha[e.index]);c.isDefined(a)&&ja()}function fa(){R();var a="hero-image"===e.type?g.find("#ivHeroImage_"+e.index):"image"===e.type?g.find("#ivImage_"+e.index):"chromeful-video"===e.type||"chromeless-video"===e.type?g.find("#ivVideo_"+e.index):"360-spin"===e.type?g.find("#iv360"):c.isDefined(Y)?g.find("#ivHeroImage_"+e.index):g.find("#ivImage_"+e.index);c.isjQueryObjDefined(a)||(a=g.find("#ivImage_0"));B(a)}function B(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")?(e.type="chromeful-video",e.index=a.attr("id").split("_")[1],H()):a.hasClass("ivHeroImage")?(e.type="hero-image",e.index=a.attr("id").split("_")[1],J(e.type)):a.hasClass("iv360Image")?(e.type="360-spin",e.index=0,x()):(e.type="image",e.index=a.attr("id").split("_")[1],J(e.type))}function x(){ja();g.find("#ivLarge360").css("display","block");D();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);w();m.postCountMetric("dppc_click360");
ya=Date.now()}function G(){0<ya&&(d("dppc_duration360",Date.now()-ya),ya=0)}function d(a,b){r.ue&&r.ue.count(a,b)}function w(){if(0<ta){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function A(a,c){if(ta<a.length){var e=b("\x3cimg /\x3e").css({display:"block",width:6*sa+"px",height:va+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(ta++,1===ta&&(w(),0<ya&&d("dppc_loadTime360",Date.now()-ya)),0<$a&&d("dppc_perSpriteloadTime360",
Date.now()-$a),g.find("#iv360Spinner").hide(),e.show(),Ja=5*T.imageLocations[Math.floor(Ha/T.imageLocations[0].length)][Ha%T.imageLocations[0].length],A(a,c))};e.attr("src",a[ta].replace(/(\._SP)\d+(,)\d+/,"$1"+xa+"$2"+wa));$a=Date.now()}}function y(a){if(c.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var b=T.spriteWidthSizes,e=b.length,d=b[0],f=b[e-1];if(a<=d)return d;if(a>f)return f;for(d=0;d<e;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function D(){var a=g.find("#ivLarge360");
a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),
Ya=!0,t())}function t(){if(c.isDefined(T.spriteURLs)&&c.isDefined(g)&&Ya&&!Za){var a=g.find("#ivLarge360"),e=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(T.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",T.staticImages.hint360).appendTo(e);b("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(e);e.appendTo(a);e=T.imageWidth;
var d=T.imageHeight,h=a.parent().width(),k=a.parent().height(),l=0,m=0;e/d>h/k?(xa=y(h),wa=Math.round(d/e*xa),sa=Math.ceil(h),va=Math.ceil(wa/xa*h),m=(k-va)/2):(wa=y(k),xa=Math.round(e/d*wa),va=Math.ceil(k),sa=Math.ceil(xa/wa*k),l=(h-sa)/2);a.css({"margin-left":l,"margin-top":m,width:sa+"px",height:va+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*sa+"px");A(T.spriteURLs,g.find("#image-360-sprites"),0);e=g.find("#ivLarge360");e.bind("mousedown",F);e.bind("touchstart",
q);e.bind("touchmove",K);e.bind("touchend",f);b(document).bind("mousemove",W);b(document).bind("mouseup",p);c.isDefined(n.staticImages.grab)&&a.css("cursor","url('"+n.staticImages.grab+"'), auto");Za=!0}}function q(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function K(a){La&&(l(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function f(a){La&&(La=!1)}function F(a){Ka=!0;Wa=a.originalEvent.clientX;c.isDefined(n.staticImages.grabbing)&&(a=g.find("#ivLarge360"),
a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function W(a){Ka&&(l(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function p(a){Ka&&(Ka=!1,c.isDefined(n.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function l(a){for(a=Ja-=a/sa*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=
a;a=360;for(var b=0;b<ta;b++)for(var e=0;e<T.imageLocations[b].length;e++){var d=Math.abs(Ja-5*T.imageLocations[b][e]);if(d<a){a=d;var f=b*T.imageLocations[0].length+e}}f!==Ha&&(a=Math.floor(f/T.imageLocations[0].length),a!==Math.floor(Ha/T.imageLocations[0].length)&&(c.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));Ha=f;a=f%T.imageLocations[0].length*-1*sa;f=-1*Math.floor(f/T.imageLocations[0].length)*va;b=g.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");b.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function I(){g.delegate(".ivThumb","click",function(){var a=b(this);B(a)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");e.type="chromeful-video";
e.index=a.attr("id").split("_")[1];H()})}function ba(){g.find("#ivLargeImage").empty();G()}function ea(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function U(a){var c=ua.left-(a.pageX-Qa[0])*Pa;k.capabilities.rtl&&(c=ua.left-(b(r).width()-a.pageX-Qa[0])*Pa);a=ua.top-(a.pageY-Qa[1])*Pa;c=ea(c,Oa.left);a=ea(a,Oa.top);g.find(".fullscreen").css({left:c,top:a})}function Z(){g.delegate("#ivLargeImage","click",function(a){if(Ma)C();else if(Na){g.find(".fullscreen").removeAttr("style");if(Na){var b=g.find("#ivLargeImage"),
c=b.find(".fullscreen");fb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var e=g.find("#ivLargeImage");Oa.left=e.width()-c.width();Oa.top=e.height()-c.height();e=b.height()/2;var d=b.width()/2;Qa=[b.offset().left+d,b.offset().top+e];ua.top=e-c.height()/2;ua.left=d-c.width()/2;c.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(c.height()/b.height(),c.width()/b.width())}U(a)}});
g.delegate("#ivLargeImage","mousemove",function(a){Ma&&U(a)})}function N(e){if(c.isImmersiveViewEnabled(n,z.getCurrentItem().color))if(cb){var d=e.$event.originalEvent;d.acknowledge&&d.acknowledge(e.$currentTarget[0]);eb=c.isDefined(e)&&"button-360-click"===e.action;da.isEnabled&&u.logImmersiveViewRequestServed(da);m.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(X))X.show();else{e=b("#auiImmersiveViewDiv");d=b(r).height()-150;var f=b(r).width()-75;X=cb.create(e,{name:"immersiveView",
activate:"onclick",width:f,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(bb){g=b("#ivMain");e=z.getCurrentItem().color;V=n.colorImages[e];Y=n.heroImage[e];ha=n.useChildVideos?n.colorToVideo[e]:n.videos;Ia=ma()&&n.spin360ColorEnabled[e];T=ma()?n.spin360ColorData[e]:na;R();a=P=ka=aa=0;c.isDefined(Y)&&(P=Y.length);c.isDefined(V)&&(aa=V.length);c.isDefined(ha)&&(ka=ha.length);Ia&&(a=1);v.populateTitle(g.find("#ivTitle"),45,n);v.populateVariationSelection(g.find("#ivVariationSelection"));
e=g.find("#ivMediaSelect");0===aa+a||0===ka?(e.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(P+aa+a+ka)+")").appendTo(e),b("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(P+aa+a)+")").appendTo(e),b("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+ka+")").appendTo(e),e.parent().show(),e.val("all"));e=g.find("#ivThumbs");
e.find(".ivRow").not(".placeholder").remove();d=P+aa+ka+a;for(var h=f=0;f<d;)for(var q=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),l=0;3>l&&f<d;l++,f++,h++)if(h<P){var p=Y[f].thumb,K=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(q);K.find(".ivThumbImage").css("background",'url("'+v.getResizedThumbnailURL(p)+'") center no-repeat')}else if(h>=P&&h<aa+P)p=V[f-P].thumb,K=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(f-P)).appendTo(q),K.find(".ivThumbImage").css("background",'url("'+v.getResizedThumbnailURL(p)+'") center no-repeat');else if(h>=P+aa&&h<aa+P+a)K=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),K.find(".ivThumbImage").css("background",'url("'+(c.isDefined(n.staticImages.icon360)?v.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=ha[f-aa-P-a],K=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(f-aa-P-a)).appendTo(q),K.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),c.isDefined(p)){var F={position:"triggerTop"},t=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(p.title);t.find(".ivVideoPopoverDuration").text(p.durationTimestamp);F.inlineContent=t[0];k.declarative.create(K,"a-tooltip",F)}e=g.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
d=e.find(".placeholder");for(f=0;f<ka;f++)h=ha[f],q=d.clone().removeClass("placeholder").appendTo(e),q.attr("id","ivVideoList_"+f),q.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(h.title),q.find(".ivThumbDuration").text(h.durationTimestamp);g.find("#ivLarge360").empty();ta=0;bb=Za=Ya=!1;Fb()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ca(a){var b=n.colorToAsin[a],e={},f=500;if(b&&b.asin){e.params={asin:b.asin};var g="360"+b.asin,q=Date.now();e.success=function(b){d("dppc_asyncRequestTime360",Date.now()-q);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(g,"success"),n.spin360ColorData[a]=b.spin360.spin360Model,a===z.getCurrentItem().color&&(T=n.spin360ColorData[a],t())):e.error()};e.error=function(){m.postCountMetric("dppc_asyncFailed360");d("dppc_asyncRequestTime360",
Date.now()-q);f*=2;16E3>=f?setTimeout(function(){q=Date.now();h.load("/gp/product/features/apparel-main-image/360.html",e)},f):c.ajaxState(g,"fail")};c.ajaxState(g)&&"fail"!==c.ajaxState(g)||(h.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(g,"sent"))}}function ma(){return c.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var ia,n,z,L,X,g,Y,V,ha,P,aa,ka,a,e,db,T,Ia,sa,va,wa,xa,Wa,Xa,eb=!1,Ya=!1,Za=!1,Ja=0,Ha=0,ya=0,$a=0,Ka=!1,La=!1,ta=0,ab,fb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;E.when("a-modal").execute(function(a){cb=a});var Fb=k.once(function(){Q();I();Z();k.on("a:popover:afterUpdatePosition:immersiveView",M);k.on("a:popover:afterShow:immersiveView",fa);k.on("a:popover:afterHide:immersiveView",ba);la()});return function(a,e,d,f){ia=this;n=a;z=e;da.refToModel=z;L=f;ma()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);c.isDefined(n.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));ia.render=function(a,b,e,d,f,g){bb=!0;ma()&&n.spin360ColorEnabled[a]&&!c.isDefined(n.spin360ColorData[a])&&(n.spin360ColorData[a]={},ca(a));c.isImmersiveViewEnabled(n,z.getCurrentItem().color)&&ma()&&n.spin360ColorEnabled[a]&&(b===n.maxAlts&&(a=d.find(".item.imageThumbnail"),e=d.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),
b--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),k.declarative.create(a,"button-360-click"),d.append(a),b++,m.postCountMetric("dppc_display360"));return b};ia.update=function(a){};c.isImmersiveViewEnabled(n,z.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");L.register("imageClick",N);L.register("button360Click",N);L.register("captionClick",N)}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(k,b,c,h,m,r,u,v,E){function O(){var a=b("#iv360Tab").height();p.css("height",a);var e=p.find("#ivTitle360").outerHeight(!0),c=p.find("#ivVariationSelection360").outerHeight(!0),d=p.find("#ivThumbs360"),f=u.getDimension(d,"margin-top")+u.getDimension(d,"margin-bottom");d.css("height",a-e-c-f);a=p.find("#ivStage360");e=p[0]&&p[0].getBoundingClientRect&&
Math.floor(p[0].getBoundingClientRect().width)||p.width();a.css("width",e-u.getDimension(p,"padding-left")-u.getDimension(p,"padding-right")-p.find("#ivThumbColumn360").width()-u.getDimension(a,"margin-left")-u.getDimension(a,"margin-right"))}function R(){S();var a=p.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);M()}function M(){if(0<Y){var a=p.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function Q(a,e){if(Y<
a.length){var c=b("\x3cimg /\x3e").css({display:"block",width:6*I+"px",height:ba+"px"});c.hide();e.append(c);c.get(0).onload=function(){e.closest(document.documentElement).length&&(Y++,1===Y&&(M(),0<z&&(m.time("dppc_loadTime360",Date.now()-z,f.mediaAsin),r.postTimeMetric("dppc_loadTime360",Date.now()-z))),0<L&&(m.time("dppc_perSpriteloadTime360",Date.now()-L,f.mediaAsin),r.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-L)),p.find("#iv360Spinner").hide(),c.show(),ia=5*l.imageLocations[Math.floor(n/
l.imageLocations[0].length)][n%l.imageLocations[0].length],Q(a,e))};c.attr("src",a[Y].replace(/(\._SP)\d+(,)\d+/,"$1"+U+"$2"+ea));L=Date.now()}}function C(a){if(c.isDefined(l.spriteWidthSizes)&&0<l.spriteWidthSizes.length){var b=l.spriteWidthSizes,d=b.length,f=b[0],g=b[d-1];if(a<=f)return f;if(a>g)return g;for(f=0;f<d;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function S(){var a=p.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ca=!0,da())}function da(){if(c.isDefined(l.spriteURLs)&&c.isDefined(p)&&ca&&!ma){var a=p.find("#ivLarge360"),
e=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(l.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",l.staticImages.hint360).appendTo(e);b("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(e);e.appendTo(a);e=l.imageWidth;var d=l.imageHeight,g=a.parent().width(),h=a.parent().height(),q=0,k=0;e/d>g/h?(U=C(g),ea=Math.round(d/
e*U),I=Math.ceil(g),ba=Math.ceil(ea/U*g),k=(h-ba)/2):(ea=C(h),U=Math.round(e/d*ea),ba=Math.ceil(h),I=Math.ceil(U/ea*h),q=(g-I)/2);a.css({"margin-left":q,"margin-top":k,width:I+"px",height:ba+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*I+"px");Q(l.spriteURLs,p.find("#image-360-sprites"),0);e=p.find("#ivLarge360");e.bind("mousedown",B);e.bind("touchstart",J);e.bind("touchmove",H);e.bind("touchend",fa);b(document).bind("mousemove",x);b(document).bind("mouseup",
G);c.isDefined(f.staticImages.grab)&&a.css("cursor","url('"+f.staticImages.grab+"'), auto");ma=!0}}function J(a){g=!0;N=a.originalEvent.targetTouches[0].clientX}function H(a){g&&(d(a.originalEvent.targetTouches[0].clientX-N),N=a.originalEvent.targetTouches[0].clientX)}function fa(a){g&&(g=!1)}function B(a){X=!0;Z=a.originalEvent.clientX;c.isDefined(f.staticImages.grabbing)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+f.staticImages.grabbing+"'), auto"));return!1}function x(a){X&&(d(a.originalEvent.clientX-Z),Z=a.originalEvent.clientX)}function G(a){X&&(X=!1,c.isDefined(f.staticImages.grab)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function d(a){ia-=a/I*180;ha&&(m.count("dppc_360dragToSpin",f.mediaAsin),r.postCountMetric("dppc_360dragToSpin"));ha=!1;for(a=ia;0>a;)a+=360;for(;360<a;)a-=360;ia=a;a=360;for(var b=
0;b<Y;b++)for(var d=0;d<l.imageLocations[b].length;d++){var g=Math.abs(ia-5*l.imageLocations[b][d]);if(g<a){a=g;var h=b*l.imageLocations[0].length+d}}h!==n&&(a=Math.floor(h/l.imageLocations[0].length),a!==Math.floor(n/l.imageLocations[0].length)&&(c.isDefined(V)||(V=document.createElement("canvas").getContext("2d")),b=p.find("#image-360-sprites").children(),V.drawImage(b[a],0,0)),a=p.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
n=h;a=h%l.imageLocations[0].length*-1*I;h=-1*Math.floor(h/l.imageLocations[0].length)*ba;b=p.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function w(){if(aa){p=b("#ivMain360");var a=F.getCurrentItem().color;y()&&D(a);l=y()?f.spin360ColorData[a]:na;u.populateTitle(p.find("#ivTitle360"),160,f);u.populateVariationSelection(p.find("#ivVariationSelection360"));p.find("#ivLarge360").empty();
Y=0;ma=ca=!1;n=ia=0;ka();aa=!1}0!==b("#iv360Tab").height()&&(u.detachImmersiveViewResizeHandler(w),O(),R(),z=Date.now(),P=ha=!0,m.count("dppc_click360",f.mediaAsin),r.postCountMetric("dppc_click360"))}function A(a,b,d){a=f.colorToAsin[d];var e={},g=500;if(!a||!a.asin)if(d===f.defaultColor)a={asin:f.winningAsin};else return;e.params={asin:a.asin};var q="360"+a.asin,k=Date.now();e.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-k,f.mediaAsin);r.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-k);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&v.setData(a),c.ajaxState(q,"success")):e.error()};e.error=function(){m.count("dppc_asyncFailedTransient360",f.mediaAsin);r.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-k,f.mediaAsin);r.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();h.load("/gp/product/features/apparel-main-image/360.html",e)},g):(m.count("dppc_asyncFailed360",
f.mediaAsin),r.postCountMetric("dppc_asyncFailed360"),c.ajaxState(q,"fail"))};c.ajaxState(q)&&"fail"!==c.ajaxState(q)||(h.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(q,"sent"))}function y(){return f&&c.isDefined(f.spin360ConfigEnabled)&&f.spin360ConfigEnabled}function D(a){return c.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function t(){P&&(m.time("dppc_duration360",Date.now()-z,f.mediaAsin),r.postTimeMetric("dppc_duration360",
Date.now()-z),P=!1)}function q(a){a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a||(a=f.mediaAsin);return a}var K,f,F,W,p,l,I,ba,ea,U,Z,N,ca=!1,ma=!1,ia=0,n=0,z=0,L=0,X=!1,g=!1,Y=0,V,ha=!0,P=!1,aa=!0,ka=k.once(function(){u.attachImmersiveViewResizeHandler(w);u.attachImmersiveViewResizeHandler(O);u.attachImmersiveViewResetHandler(t);u.attachTabDeselectHandler("iv360Tab",t)});return function(a,e,d,g){K=this;f=a;F=e;W=g;a=f.landingAsinColor;e=f.defaultColor;c.isDefined(f.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));y()&&(f.spin360ColorData||(f.spin360ColorData={}),a===e&&c.isDefinedAndEmpty(f.spin360ColorData[e])&&delete f.spin360ColorData[e]);k.on(E.TWISTER_DATA_EVENT,function(a){q(F.getCurrentItem())===a&&(l=v.getData(a),da(),a={type:"updatedData",data:F.getCurrentItem()},W.dispatch("updateView",a))});K.render=function(a,e,d,g,h,l){aa=!0;!y()||c.isDefinedAndEmpty(f.spin360ColorData[a])&&
!v.getData(q(F.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):(f.spin360ColorData[a]=v.getData(q(F.getCurrentItem())),c.isDefinedAndNotEmpty(f.spin360ColorData[a])?(b("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(f,F.getCurrentItem().color)&&y()&&D(a)&&(e===f.maxAlts&&(a=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),e--),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
k.declarative.create(a,"button-360-click"),g.append(a),m.count("dppc_display360",f.mediaAsin),r.postCountMetric("dppc_display360"))):c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?(f.spin360ColorData[a]={},u.hideTabHeading("iv360TabHeading"),A(g,e,a)):u.hideTabHeading("iv360TabHeading"))};K.update=function(a){};u.attachTabSelectHandler("iv360Tab",w)}});E.register("nexusLogger360",function(){return{count:function(k,b){r.ue&&r.ue.event({asin:b,metricName:k,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(k,b,c){r.ue&&r.ue.event({asin:c,metricName:k,metricValue:b},"hit-360","hit360.clientEvent.3")}}});E.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});E.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(k,b){var c={};return{setData:function(h){var m=h.asin;c[m]||(c[m]=h,k.trigger(b.TWISTER_DATA_EVENT,m))},getData:function(b){return c[b]}}});"use strict";E.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(k){function b(){this.render=function(){};this.update=function(){}}return function(c,h,m,r){var u=!1,v=new b;E.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==na&&(u=!0,v=new b(c,h,m,r))});c&&!0===c.showroomEnabled&&!1===u&&k.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return v}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(k,b,c,h,m,E,u){function v(){A.delegate(".ivThumb","click",function(){var c=b(this);A.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(y.type="chromeful-video",y.index=c.attr("id").split("_")[1])})}function O(){if(N){var c=b("#ivVideosTab").height();A.css("height",c);var d=A.find(".vse-lb-container");D=c-m.getDimension(d,"padding-top")-m.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(ba){A.css({"max-width":Math.floor(1.77*
D)});return}c=A.find(".vse-player-container");d=A.find(".vse-video-action-strip");var f=A.find(".vse-lb-video-metadata"),g=Math.floor(D-m.getDimension(f,"height")-m.getDimension(d,"height")),h=Math.floor(1.77*g);c.css({"max-height":g,"max-width":h,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":h,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":h,marginLeft:"auto",marginRight:"auto"})}ea&&(c=A.find(".vse-vertical-scroll"),d=m.getDimension(c,"margin-top")+m.getDimension(c,"margin-bottom"),
c.css("max-height",D-d))}function da(){R();t&&t.pause();U=!1;l=!0;F=null;Z=!0;N=!1}function R(){U=!1;t&&t.pause()}function M(f){F=f.clickTimeStamp?f.clickTimeStamp:k.now();c.isDefined(w)&&(w.eventTimestamp=F);U=!0;I&&(u.get(k,"#ivVideoBlock",d,X,g),A=b("#ivVideoBlock"),G.getCurrentItem(),y=G.getCurrentItem(),n(),H());O();I=!1;S()}function Q(c){I&&(A=b("#ivVideoBlock"),G.getCurrentItem(),y=G.getCurrentItem(),n());U&&S();O()}function C(b){t=b.player;h.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
k.now()-ia);x.imageBlockRenderingStartTime&&h.postTimeMetric("vse_ib_desktop_time_to_player_interactive",k.now()-x.imageBlockRenderingStartTime);N&&(H(),S())}function S(){if(t&&U&&(A.find(".vse-lb-container").animate({opacity:1},200),t.play(w),h.postCountMetric("dpcc_vse_videoBlock_video_played"),l)){var b=r.ue;b&&(b=b.count("dpcc_vse_videoingressclick"),b=(new Date).getTime()-b,h.postTimeMetric("dpcc_vse_vitff",b),l=!1)}}function ja(){k.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function J(b){q=
b.popover.$popover;N=!0;H()}function H(){if(N&&Z&&U&&t){q.addClass(k.$(q).find(".vse-lb-container").data("cssClass"));var b=w;ca&&(b=ma,ca=!1);k.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:b});O();Z=!1}}function fa(b){document.getElementsByClassName("videoBlockIngress")[0].click();ma=b;ca=!0}var B,x,G,d,w,A,y,D,t,q,K,f,F,W,p,l=!0,I=!0,ba=!1,ea=!1,U=!1,Z=!0,N=!1,ca=!1,ma,ia=0,n=k.once(function(){v();m.attachImmersiveViewResizeHandler(Q);m.attachTabDeselectHandler("ivVideosTab",
R);m.attachImmersiveViewResetHandler(da)}),z=function(c,d,f){b("#ivVideoBlockSpinner").addClass("aok-hidden");h.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);ba=!0;b("#ivVideoBlock").css({"max-width":1.77*D,margin:"0 auto"})},L=function(c,f,h){I||u.get(c,"#ivVideoBlock",d,X,g);b("#ivVideoBlockSpinner").addClass("aok-hidden")},X=function(b,c,d){ea=!0;O()},g=function(b,c,d){h.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};
return function(b,g,h,q){B=this;x=b;G=g;B.render=function(b,g,a,e,h,q){b=G.getCurrentItem().color;g=c.getVideoHash(b,0,x);!0===q?K=x.mediaAsin:(K=x.colorToAsin[b]&&x.colorToAsin[b].asin,K=c.isDefined(K)?K:x.mediaAsin);f=!0===x.useVSEVideos?"VIDEO_ID":"physicalID";W=x.contentWeblab;p=x.contentWeblabTreatment;I=!0;-1===g?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),d={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,
product:{contentID:K,contentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:f,videoURL:g.url,imageURL:g.slateUrl,rankingStrategy:g.rankingStrategy},requestId:x.dpRequestId,weblabContext:[{name:W,assignment:p,ignoreForG2S2Key:!0}],metadata:{ProductTitle:x.title}},w={videoUrl:d.video.videoURL,contentId:d.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(F)?F:k.now(),imageUrl:d.video.imageURL,productAsin:d.product.contentID,rankingStrategy:d.video.rankingStrategy,index:0},
c.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),ia=k.now(),E.get(k,"#ivVideoBlock",d,L,z))};B.update=function(b){};m.attachTabSelectHandler("ivVideosTab",M);k.on("vsePlayer-detailpage-imageblock",C);k.on("a:popover:afterShow:immersiveView",J);k.on("a:popover:beforeHide:immersiveView",ja);k.on("detailpage-imageblock-leave-pip",fa)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(k,b,c,h,m){function r(c,
h){if(c){w=x.getCurrentItem();0==Object.entries(t).length&&u();var f=w.shoppableScene;f==na?(c=H(Object.values(t)[0]),f=Object.values(t)[0].shoppableScene):c=H(d[w.index]);D=f.physicalId;var q=b(".shoppable-scene-image-block-placeholder-in-iv");if(0<q.length){var k=b("\x3cimg\x3e");k.attr("id","shoppableSceneIvImage");k.attr("src",c);k.css({"max-height":"500px","max-width":"650px"});q.replaceWith(k);c=v(f);f=b(".shoppable-scene-image-block-tags-in-iv");f.empty();c.appendTo(f)}else G.hide(),C();la();
c=w.shoppableScene?w.shoppableScene:Object.values(t)[0].shoppableScene;R(c);S(h,A,null,D)}}function u(){d=B.colorImages[w.color];A=B.colorToAsin[w.color].asin;d.forEach(function(b){b.shoppableScene!=na&&(t[b.shoppableScene.physicalId]=b)})}function v(c){var d=b("\x3cspan\x3e");k.each(c.tags,function(f){var h=b("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});h.append(O(!1));h.append(O(!0));k.declarative.create(h,"scenes-show-details-tags-ib-iv-click",
{tagId:f.link,physicalId:c.physicalId});d.append(h)});return d.children()}function O(c){var d=b("\x3cimg src\x3d'"+(c?B.staticImages.shoppableSceneDotHighlighted:B.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function la(){var c=b(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(t).forEach(function(d){var f=t[d],h=b("\x3cimg\x3e");f=H(f);h.attr("id","shoppable-scene-thumbnail-"+
d);h.attr("src",f);h.addClass("shoppable-scene-thumbnail");k.declarative.create(h,"scenes-thumbnail-ib-iv-click",{physicalId:d});h.appendTo(c)})}function R(b){J();E.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){k.trigger("mirai:scene-immersive-recommendation-col-init",{scene:b})})}function M(b,c){J();E.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){k.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:b,physicalId:c})})}function Q(){var c=t[D].shoppableScene,d=b(".shoppable-scene-image-block-tags-in-iv");d.hide();c=v(c);d.empty();c.appendTo(d);d.show();G.show()}function C(){var c=H(t[D]),d=b("#shoppableSceneIvImage");d.bind("load",Q);d.attr("src",c)}function S(b,c,d,h){var f="shoppable-scene-dp-iv:mirai:"+b;E.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){k.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:b,
csmCounterName:f,asin:c,tagId:d,physicalId:h})})}function ja(){var c=b(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");k.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function J(){var c=b("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=b("#shoppableSceneRecommendationColumn");b(".shoppable-scene-recommendation-iv").hide();var d=b("\x3cimg\x3e");d.attr("id",
"shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",B.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function H(b){return b.hiRes||b.large||b.main[b.main.length-1]}var fa=void 0,B=void 0,x=void 0,G=void 0,d=void 0,w=void 0,A=void 0,y=void 0,D=void 0,t={};k.declarative("shoppable-scene-image-click","click",function(b){r(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});k.declarative("scenes-show-details-tags-ib-iv-click","click",function(b){var c=b.$currentTarget;if(null!=y){var d=
y.find(".active-tag"),h=y.find(".inactive-tag");d.css({display:"none"});h.css({display:"inline-block"})}d=c.find(".active-tag");h=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");h.css({display:"none"});y=c;ja();M(b.data.tagId,b.data.physicalId);S("IMMERSIVE_VIEW_PRODUCT_TAG",A,b.data.tagId,b.data.physicalId)});k.declarative("scenes-thumbnail-ib-iv-click","click",function(b){D=b.data.physicalId;C();R(t[D].shoppableScene)});return function(c,d,f,h){fa=this;
B=c;x=d;G=b("#ivMainShoppableScene");fa.render=function(b,c,d,f,h,k){};fa.update=function(b){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(b){b=x.getCurrentItem();r(null==w||w.index!=b.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,d){try{var c=a.$,k=c("#featurebullets_feature_div"),l=c("#productOverview_feature_div");if(k&&0<k.length&&(d.postCountMetric("FeatureBulletsRendered.GV"),l&&
0<l.length)){d.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(d.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){d.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){d.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(w){b.log("Feature bullets metric logging failed with error: ( "+
w+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,d,c,k,l){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,d=0,f;for(f in a)a[f]&&a[f].length&&(d+=a[f].length);a="image_size_bucket:gt"+b[b.length-1];for(f=1;f<b.length;f++)if(d<=b[f]){a="image_size_bucket:"+b[f-1]+"-"+b[f];break}l.postCountMetric(a);k.addTag(a)})();(function(){var a=d.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;k.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var d=e.ue;if(d){var c=d.count(a)||0;d.count(a,c+1)}}},postTimeMetric:function(a,d){if("undefined"!==typeof a&&"undefined"!==typeof d){var c=e.ue;c&&c.count(a,d)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,d,c,b,l,v,w,q,f,r){var k=10<arguments.length&&arguments[10]!==h?arguments[10]:"",m="",n=q||"";try{m=e.location.href;var g=m.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
g&&(g[1]||g[2]||g[3])&&(n=g[1]||g[2]||g[3])}catch(p){(g=e.ue)&&g.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:r,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+d,videoAsin:c,videoAsinList:k,rankingStrategy:b===h?"":b,groupType:v===h?"":v,pageUrl:m,pageAsin:n,weblabIds:f===h?"":f,customerId:l||""}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,d,b){var c=
a.state("desktop-landing-image-data");c&&(c=a.values(c),d=d.getResourceTimeByName("img",c),a.each(d,function(a){a&&(a.responseEnd!=h&&b.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",e.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict";b.when("A","jQuery","ImageBlockAPI","postMetric",
"atf").register("media-block-config",function(a,b,c,e,l){return{mediaTypeTag:{IMAGE:{elementTags:["img.media-block-image-tag","div.media-block-image-tag"]},VIDEO:{elementTags:["img.media-block-video-tag","div.media-block-video-tag","div.vse-player-container"]},DIMENSION:{elementTags:["svg#hit-pd-angled-front-svg","div.dimension-ingress-seller-image"]}},mediaBlockEntities:["primaryViewCarousel"]}});b.when("A","ImageBlockAPI","postMetric","atf","media-block-config").execute(function(a,b,c,h,l){function d(a,
b,d,c,e){if(d&&c){var g=[],n=b.length;b.each(function(){try{var b=this.getAttribute(e),d=this.getAttribute("data-csa-c-content-id"),c=this.getAttribute("data-csa-c-media-type");if(d&&c){var n=null,h=null,k=null;try{var p=l.mediaTypeTag[c];if(!p){f("mediaBlock.entities."+a+".unknownMediaType."+c);return}var m=p.elementTags;if(m&&0<m.length){var q=t(this);for(p=0;p<m.length&&!(n=q.find(m[p]),0<n.length);p++);}n&&0<n.length&&(h=n.height(),k=n.width(),0<h&&0<k||(k=h=null))}catch(u){f("mediaBlock.entities."+
a+".slot.dimensionNotFound"),r(u,"WARN")}g.push({slotId:b,mediaType:c,contentId:d,height:h,width:k})}else f("mediaBlock.entities."+a+".carouselContentNotfound")}catch(u){f("mediaBlock.entities."+a+".carouselSlotNotfound"),r(u,"WARN")}});g&&0<g.length&&q(n,a,g,d,c)}else f("mediaBlock.entities."+a+".carouselNotfound")}function k(b){function c(){var a=t("#imageBlock.primaryViewGridContainer"),c=a.find(".desktop-media-mainView li.item"),g=a.height();a=a.width();d(b,c,g,a,"data-csa-c-posx")}c();a.on("PageRefresh:ATF",
c)}function q(a,b,c,d,e){csa("Events",{producerId:"dppinfo"})("log",{schemaId:"dppinfo.mediaBlockContentRender.1",totalSlots:a,entityName:b,asin:m,entityHeight:d,entityWidth:e,slotContentMetadataList:c},{ent:"all"})}function f(a){e.ue&&ue.count(a,(ue.count(a)||0)+1)}function r(a,b){b={logLevel:b,attribution:"DetailPageImageBlockSubAssets"};e.ueLogError&&e.ueLogError(a,b)}var t=a.$,m=null;(function(){m=t("#mediaBlock_feature_div").attr("data-csa-c-asin");for(var a=0;a<l.mediaBlockEntities.length;a++){var b=
l.mediaBlockEntities[a];try{switch(b){case "primaryViewCarousel":k(b)}}catch(p){f("mediaBlock.entities."+b+".carouselNotfound"),r(p,"WARN")}}})()})});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A","ImageBlockATF").register("MediaBlockTwisterRefreshDataLoader",function(d,g){function k(){d.trigger("twisterRefreshData",e)}var e={};if(g&&g.isMediaBlock)d.on("PageRefresh:ATF",k);return{setMediaBlockData:function(d){e=d}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";
l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",
f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}});
l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",
e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,f,a,c,b){var e=d.$;e(f+" div[data-configuration]").each(function(){k({A:d,
context:a,handleFailure:b,handleSuccess:c},e(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+
h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(d,f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(q){var t=window.AmazonUIPageJS||window.P,r=t._namespace||t.attributeErrors,b=r?r("DetailPagePaymentOptionsJavascript",""):t;b.guardFatal?b.guardFatal(q)(b,window):b.execute(function(){q(b,window)})})(function(q,t,r){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,d){function e(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function f(c,a){m(d.metricPrefix,c,a)}function l(c,a){m(d.metricPrefixUFO,c,
a)}function m(c,a,b){if("undefined"!==typeof k&&"undefined"!==typeof k.count&&a&&c){if(b===r||null===b)b=1;c+=a;k.count(c,(k.count(c)||0)+b);"undefined"!==typeof t.csa&&(b=t.csa("Events",{producerId:"dp-rpcx"}),a=k.count(c),b("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:c,valueToLog:a},{ent:"all"}))}}function g(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");}function h(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");
}var k=t.ue;g.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&f(this.timerName,Date.now()-this.startTime)}};h.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&f(this.timerName,Date.now()-this.startTime)}};return{increment:function(c){f(c,1)},incrementWithValue:f,incrementWithValuePriceBlockMessaging:function(c,a){m(d.metricPrefixPriceblock,c,a)},logNexusEventForMonthlyPaymentSelection:function(c){if(t.ue&&
k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=parseInt(c.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,
d.nexus.schemaId,{ssd:!0});l("MonthlyPaymentSelection",1)}},logNexusEventForComparePlansLink:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;
a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;
a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=
!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;
a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=
!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;
a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";
a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;
a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=
"undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!0;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansCancelPlan",1)}},logNexusEventForCheckoutPlan:function(c){if(t.ue&&
k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=
d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!0;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansCheckoutPlan",
1)}},Timer:g,TimerPriceBlockMessaging:h}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,d,e,f){function l(){f.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;e.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1}function m(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var e=b.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);if(!e||!e.treatment)return{};var f=b.$(d.selector.activeTPlusCards).val();if(!f||!f.length)return{};f=
f.split(",");return{expTreatment:e.treatment,isFirstCard:f[0]===d.featureRegistration.featureName,collapseCard:l,autoExpandCard:m}}()});"use strict";q.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.7"},validators:{itemType:"paymentOfferInfo",offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},
metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,d,e,f,l,m,g,h){function k(a){return"string"===typeof a}function c(a){for(var c=a.length-1;0<=c;c--){var b=a.get(c).id;if(b!==r&&!v("#"+b).parent().parent().parent().hasClass(e.classes.hideSwatchMainViewClass)){v("#"+b).parent().parent().parent().addClass(e.classes.hideSwatchMainViewClass);break}}}function a(){var a;var c=(a=v(e.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(e.selector.isBuyingOptionOverridePresentAttribute);a=a&&c?(a=a.attr(e.selector.pickUpBuyingOptionIndex))?a:r:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function n(a){var c=a.executionInfo;c.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c}]}}var v=b.$;g=g.expTreatment;var p="T2"!==g&&"T3"!==g,w=e.featureRegistration.featureName;d.registerFeature(e.featureRegistration,
{init:function(c){b.$(a()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===e.validators.itemType&&k(a.priceAndTermCountDisplayString)&&k(a.orderSummaryDisplayString)&&k(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&k(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=h.paymentOptionSelected.paymentOptionClickedFromSideSheet;p&&!a&&(m.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,l.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(e.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(e.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,m,
h,g,k,p){g=p&&-1!==p?p:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var q;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==r&&(m=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===r&&!0===m&&(q=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var t;a&&(t=a.offerGroup);b.$("#paymentOption_"+g).removeClass("a-hidden");var y=v("#paymentOption_"+g).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");m=v("#paymentOption_"+g+" #oneTimePaymentOptionSwatch");b.$(m).click();b.delay(function(){y.isExpand||v(e.selector.subtitleText).text(y.collapseSubtitle)},100);h=m=!1;d.ccRemovedSelectionsClear(w);a===r&&q!==r&&(k=b.$("#paymentOption_"+g+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
m=k!==r,!0===m&&(v(e.selector.subtitleText).text(k.preselectionSubtitle),f.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,f.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===m&&d.ccRemovedSelectionUpdate(w,n(q)));if(t){q=v("#paymentOption_"+g+" .payment-options-financing-option");g=q.length;m=0<g;for(k=0;k<g;k++){p=q.get(k);var z=b.$(p).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
A=v("#"+p.id).parent().parent().parent(),C=A.hasClass(e.classes.hideSwatchMainViewClass);if(z&&t===z.offerGroup){h=!0;C&&(c(q),A.removeClass(e.classes.hideSwatchMainViewClass));b.$(p).click();var D=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!m||m&&!h)&&d.ccRemovedSelectionUpdate(w,n(a));l.collapsePaymentOptions(D)}}})});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,d,e){function f(c){var a=g("form#buyNowCheckout");if(0<a.length){var b=a.find("input[name\x3d"+e.parameters.itemType+"]");c=c.executionInfo;c.cartType=e.parameters.cartTypes.buyNow;c=JSON.stringify(c);1>b.length?g("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,name:e.paymentOfferInputElement.name,value:c,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=g("#bnMshopPaymentOfferInfo"),1<b.length?a.detach():a.val(c))}}function l(c){var a=c.executionInfo;a.sessionId=c.sessionId;
a.customerId=c.customerId;a.marketplaceId=c.marketplaceId;a.requestId=c.requestId;a.deviceType=c.deviceType;a.asin=c.asin;a.buyingOptionType=c.buyingOptionType;a.parentASIN=c.parentASIN;a.websiteDisplayGroup=c.websiteDisplayGroup}function m(c,a){return{itemType:e.parameters.itemType,price:c.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:c.priceAndTermCountDisplayString,interestDisplayString:c.interestDisplayString,interestAmount:c.interestAmount,orderSummaryDisplayString:c.orderSummaryDisplayString,
isOrderLevel:c.isOrderLevel,bottomSheetFootnoteDisplayString:c.bottomSheetFootnoteDisplayString,termCount:c.termCount,termType:"mo",formData:a}}var g=b.$,h=e.featureRegistration.featureName,k;return{updatePaymentOptionSelection:function(c){if(!c)return!1;d.ccSelectionsClear(h);clearTimeout(k);g("#bnMshopPaymentOfferInfo").detach();var a=[],b;if(c.hasOwnProperty("executionDetails")&&0!==Object.keys(c.executionDetails).length){var v=c.executionDetails;Object.keys(v).forEach(function(b){if("paymentOfferInfoType"===
b){var d=JSON.parse(c.executionDetails.paymentOfferInfoType);d.sessionId=c.sessionId;d.customerId=c.customerId;d.marketplaceId=c.marketplaceId;d.requestId=c.requestId;d.deviceType=c.deviceType;d.asin=c.asin;d.buyingOptionType=c.buyingOptionType;d.parentASIN=c.parentASIN;d.websiteDisplayGroup=c.websiteDisplayGroup;c.executionDetails.paymentOfferInfoType=JSON.stringify(d);a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:JSON.parse(v[b])}])}else a.push([{inputType:e.paymentOfferInputElement.inputType,
inputName:b,inputValue:v[b]}])});for(var p=0;p<a.length;p++)if(b=m(c,a[p]),b=d.ccSelectionUpdate(h,b),!b)return!1}else if(c.hasOwnProperty("executionInfo")&&0!==Object.keys(c.executionInfo).length)l(c),a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c.executionInfo}]),b=m(c,a[0]),b=d.ccSelectionUpdate(h,b);else return!0;f(c);k=setTimeout(function(){f(c)},1E3);return b}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",
function(b,d){b.declarative("select-payment-option","click",function(b){d.updatePaymentOptionSelection(b.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-plan-state","payment-options-constants","payment-options-state","payment-options-client-side-metric").register("po-compare-plans-actions",function(b,d,e,f,l,m){function g(){d.resetComparePlansState();u(f.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");u(f.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function h(a,b){a=u(a);var d=f.comparePlansSelector.viewModelFailedSelector,e=f.comparePlansSelector.preselectiedOptionSelector,g=f.comparePlansSelector.paymentOptionsCountSelector,h=f.comparePlansSelector.firsOfferIdSelector,l=c(),e=e+"-"+l,g=g+"-"+l,h=h+"-"+l;return 0!==a.filter(d+"-"+l).length?(m.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(e).length?(m.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(g).data("paymentPlansCount")!==b.numberOfPaymentOptions?
(m.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(h).data("firstOfferId")!==b.firstOfferId?(m.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function k(e){u(f.comparePlansSelector.comparePlansSidesheetSelector).html(d.getComparePlansState("ajaxContent"));var m=f.comparePlansSelector.comparePlansContentSelector+"-"+c();u(m).removeClass("aok-hidden");b.loadDescendantImagesManually(u(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(u(".payment-options-side-sheet-option-summary"));
b.loadDescendantImagesManually(u(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(u(".payment-options-comparison-sheet-comparison-card-option"));a(e)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a){var c=e.paymentOptionSelected.paymentOptionSelectedButtonId,b=e.paymentOptionSelected.paymentOptionDisabledButtonId;w(a.data.selectText);B(c,a.data.selectedText);q(b);requestAnimationFrame(function(a){n(a)})}
function n(a){var c=f.selector.setDynamicHeight;Object.keys(c).forEach(function(a){var b=c[a];Object.keys(b).forEach(function(a){a=document.querySelectorAll(b[a]);if(0!==a.length){var c=v(a);0!==c&&p(a,c)}})});a=document.querySelectorAll(".payment-option-table-head");a=v(a);var b=document.querySelectorAll(".payment-option-table-column");p(b,a)}function v(a){for(var c=0,b=0;b<a.length;b++)void 0,void t.getComputedStyle(a[b]).height,a[b].offsetHeight>c&&(c=a[b].offsetHeight);return c}function p(a,c){for(var b=
0;b<a.length;b++)a[b].style.height=c.toString()+"px"}function w(a){u(r.oneTimePaymentHeadButton).removeClass(r.selectedButton);u(r.oneTimePaymentHeadButton).addClass(r.unselectedButton);u(r.oneTimePaymentHeadButton).text(a);u(f.comparePlansSelector.comparePlansColumnSelector).removeClass(f.classes.selectedPaymentOptionBorder);u(f.comparePlansSelector.comparePlansColumnSelector).addClass(f.classes.normalPaymentOptionBorder);u(f.comparePlansSelector.comparePlansColumnSelector).removeClass(f.classes.disabledPaymentOptionClass);
u(f.comparePlansSelector.comparePlansColumnWithLearnMoreSelector).removeClass(f.classes.disabledPaymentOptionOrder);u(f.comparePlansSelector.comparePlansButtonSelector).removeClass(f.classes.selectedButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).removeClass(f.classes.auiDisabledButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).addClass(f.classes.unselectedButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).text(a)}function B(a,b){if(""!==a)if("oneTimePaymentOption"===
a)u(r.oneTimePaymentHeadButton).addClass(r.selectedButton),u(r.oneTimePaymentHeadButton).removeClass(r.unselectedButton),u(r.oneTimePaymentHeadButton).text(b);else{var c=f.comparePlansSelector.comparePlansPaymentOptionSelector+a.match(/\d+/g)[0];u(c).addClass(f.classes.selectedPaymentOptionBorder);u(c).removeClass(f.classes.normalPaymentOptionBorder);u("#"+a).addClass(f.classes.selectedButtonClass);u("#"+a).removeClass(f.classes.unselectedButtonClass);u("#"+a).text(b)}}function q(a){if(a&&""!==a){a=
a.match(/\d+/g)[0];u("#"+f.disabledPaymentOptionSelecter+a).text("("+e.paymentOptionSelected.paymentOptionUnAvailableMsg+")");var b=f.comparePlansSelector.comparePlansPaymentOptionSelector+a,c=f.comparePlansSelector.comparePlansPaymentOptionWithLearnMoreSelector+a;u(f.comparePlansSelector.comparePlansButtonIdSelector+a).addClass(f.classes.auiDisabledButtonClass);u(c).addClass(f.classes.disabledPaymentOptionOrder);u(b).addClass(f.classes.disabledPaymentOptionClass);u("[id\x3d"+f.popOverText+a+"cell]").addClass(f.classes.popOverShowClass);
u("[id\x3d"+f.popOverText+a+"cell]").removeClass(f.classes.popOverHideClass)}}var u=b.$,r=f.selector;b.on("PageRefresh:ATF",function(){d.resetComparePlansState()});return{loadAjaxContent:function(a){var c=u("#twister-plus-asin").val();if(null===c||""===c)m.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),g();else if(d.getComparePlansState("isAjaxContentLoaded")&&!d.checkInconsistentState())k(a);else{var e={asin:c,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions"},l=new m.Timer("Ajax:Loading:Time");
l.start();u(f.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");u(f.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:e,success:function(b){null===b||/^\s*$/.test(b)?(m.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),g()):h(b,a.data)?g():(d.setComparePlansState("ajaxContent",b),d.setComparePlansState("isAjaxContentLoaded",!0),d.setComparePlansState("ajaxContentAsin",
c),k(a),l.stop())},error:function(a,b){b===f.ajaxErrorReasons.timeoutStatus?m.incrementWithValue("Ajax:Failure:Timeout",1):m.incrementWithValue("Ajax:Failure",1);g()}})}},renderPreselection:a}});"use strict";q.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,d){var e=[d.COMPARE_PLAN_PAYMENT_DETAILS,d.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(d){for(var l=0;l<e.length;l++){for(var m=b.$(d).find(e[l]),g,h=g=0;h<m.length;h++)m[h].offsetHeight>
g&&(g=m[h].offsetHeight);if(0<g)for(h=0;h<m.length;h++)m[h].style.height=g.toString()+"px"}}}});"use strict";q.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",
COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(b){var d=b.$,e={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},f={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return e[b]},setComparePlansState:function(b,d){e[b]=d},getLearnMoreState:function(b){return f[b]},setLearnMoreState:function(b,d){f[b]=d},checkInconsistentState:function(){if(e.isAjaxContentLoaded&&
f.isAjaxContentLoaded){if(e.ajaxContentAsin!==f.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var b=d("#twister-plus-asin").val();if(e.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent",
"");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions").register("ufo-compare-payment-plans",function(b,d,e){var f=b.$;b.declarative("compare-payment-plans","click",function(f){b.trigger("a:declarative:side-sheet:click",f);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):e.renderPreselection(f)});b.declarative("price-block-compare-payment-plans",
"click",function(f){b.trigger("a:declarative:open-payment-options-side-sheet:click",f);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):e.renderPreselection(f)});b.declarative("compare-payment-plans-ajax","click",function(b){e.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(d){var e=f(d.$currentTarget);e!==r&&null!==e&&(f("#"+d.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",
d))})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(b,d,e,f,l,m){function g(){d.resetLearnMoreState();p(e.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");p(e.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function h(a,b){a=p(a);var d=c(),f=e.learnMoreSelector.preselectiedOptionSelector+"-"+d,m=e.learnMoreSelector.paymentOptionsCountSelector+
"-"+d,g=e.learnMoreSelector.firsOfferIdSelector+"-"+d;return 0!==a.filter(e.learnMoreSelector.viewModelFailedSelector+"-"+d).length?(l.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(f).length?(l.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(m).data("paymentPlansCount")!==b.numberOfPaymentOptions?(l.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(g).data("firstOfferId")!==b.firstOfferId?(l.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",
1),!0):!1}function k(f,m,g){p(e.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));g=e.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=c();p(g).removeClass("aok-hidden");b.loadDescendantImagesManually(p(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(p(".payment-options-comparison-sheet-comparison-card-option"));
a(f,m)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,b){n(m.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function n(a,b,c){v(b);p(function(){p("[id\x3d"+a+"]").removeClass(w.unselectedButton);p("[id\x3d"+a+"]").addClass(w.selectedButton);p("[id\x3d"+a+"]").children(0).children(0).text(c);p("[id\x3d"+a+"]").text(c)})}function v(a){p(w.sideSheetButton).removeClass(w.selectedButton);p(w.sideSheetButton).addClass(w.unselectedButton);
p(w.sideSheetButton).text(a);p(w.oneTimePaymentHeadButton).removeClass(w.selectedButton);p(w.oneTimePaymentHeadButton).addClass(w.unselectedButton);p(w.oneTimePaymentHeadButton).text(a)}var p=b.$,w=e.selector;b.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(a){var c=a.data.selectText,f=a.data.selectedText,m=p("#twister-plus-asin").val();null===m||""===m?(l.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),g()):d.getLearnMoreState("isAjaxContentLoaded")&&
!d.checkInconsistentState()?k(c,f,a.data.index):(p(e.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),p(e.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:{asin:m,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions"},success:function(b){null===b||/^\s*$/.test(b)?(l.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),g()):h(b,a.data)?g():(d.setLearnMoreState("ajaxContent",
b),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",m),k(c,f,a.data.index))},error:function(a,b){b===e.ajaxErrorReasons.timeoutStatus?l.incrementWithValue("Ajax:Failure:Timeout",1):l.incrementWithValue("Ajax:Failure",1);g()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric",
"payment-options-constants").register("payment-options-learn-more-events",function(b,d,e,f,l){b.declarative("payment-options-learn-more","click",function(m){f.increment("SideSheet:Link:Click");e.stopEventPropagation(m);b.trigger("a:declarative:side-sheet:click",m);!m.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",m):e.preRenderSelectedFinancingOption(m.data.selectText,m.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more",
"click",function(b){f.incrementWithValue(l.metricConstants.skipLearnMoreMetricForDesktop,1);t.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax","click",function(b){e.loadAjaxContent(b)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,d,e,f,l){function m(b){if(a===r||null===a||null===b.data.isExpand||b.data.isExpand===r){if(null===
b.data.isExpand||b.data.isExpand===r)h("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;d.initSubtitle(b);n&&d.hideLoaderAnimation(b.data.isExpand)}}function g(b){a=!0;var c=b.data.renderPreselection;e.autoScroll=!b.data.isAutoExpand;c||n?d.expandPaymentOptions(n,c):(v.isStarted||v.start(),d.expandSkeletonLoader(c));f.logNexusEventForSwatchExpansion(b)}var h=b.$,k=l.expTreatment,c=l.isFirstCard&&"T1"===k||"T2"===k||"T3"===k,a,n=e.isLoaded,
v=new f.Timer("Desktop:Expander:Loading:UserWaiting:Time"),p=new f.Timer("Desktop:Expander:Loading:Time");p.start();q.when("cc-payment-options").execute(function(){p.stop();v.isStarted&&v.stop();n=!0;d.hideLoaderAnimation(a);f.incrementWithValue("Container:Swatch:Amount",h(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(c){if("keydown"!==c.type||13===c.$event.keyCode||32===c.$event.keyCode){m(c);a=c.data.isExpand;var e=c.data.renderPreselection;
!0===a?(a=!1,f.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(e)):!1===a&&g(c);h("[data-toggle-payment-options-expander]").each(function(){h(this).data("toggle-payment-options-expander").isExpand=a});b.trigger("a:declarative:expander-update-visible-payment-options:click",c)}});b.declarative("expand-payment-options-expander",function(a){if(!k||a.data.forceExpand)m(a),g(a),h("[data-toggle-payment-options-expander]").each(function(){h(this).data("toggle-payment-options-expander").isExpand=
!0})});c&&l.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(b,d,e,f,l,m){function g(){if(d.autoScroll){var b=a(n.expanderContainer),c=b.offset().top+b.outerHeight();if(a(t).scrollTop()+a(t).height()<c){var c=b.offset().top,e=a(t).height(),b=b.height(),b=c-(e-b)/2;a("html, body").animate({scrollTop:b},d.animationTimeoutUnit)}}}
function h(b,c){b=b?p.monthlyPaymentOptionsExpandedSubtitle:c?p.monthlyPaymentOptionsExpandedSubtitle:p.loadingSubtitle;a(n.subtitleText).text(b);!1===c&&a(n.cardImage).fadeOut(e.animationTimeoutUnit)}function k(b){""!==p.monthlyPaymentOptionsCollapsedSubtitle&&a(n.subtitleText).text(p.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(n.cardImage).fadeIn(e.animationTimeoutUnit)}function c(b,c){a(b)&&a(b).attr(v.ariaExpanded,c)}var a=b.$,n=e.selector,v=e.attributes,p=d.expanderSubtitle;return{initSubtitle:function(a){var b=
a.data.expandSubtitle;p.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;p.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(d,l){f.increment("Desktop:Expander:Click:Expand");f.increment("Desktop:Expander:Click:Expand:loading");a(n.expanderContent).addClass(n.paymentOptionExpand);a(n.expanderIcon).addClass("rotate");m.cardExpanded(e.featureRegistration.featureName);b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);h(d,l);g()},e.animationTimeoutUnit);b.$(n.refreshToggle).hasClass("refresh-toggle")||
b.$(n.refreshCCText).removeClass("a-hidden");c(n.toggleExpanderButton,!0)},expandSkeletonLoader:function(d){f.increment("Desktop:Expander:Click:Expand");a(n.expanderContent).addClass(n.skeletonLoaderExpand);a(n.expanderIcon).addClass("rotate");b.delay(function(){d||(a(n.skeletonLoader).addClass(n.twisterPlusFadeIn),h(!1,d),g())},e.animationTimeoutUnit);c(n.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);b.delay(function(){a(n.skeletonLoader).hide();
a(n.swatch).removeClass("invisible");c&&(a(n.subtitleText).text(p.monthlyPaymentOptionsExpandedSubtitle),a(n.expanderContent).addClass(n.paymentOptionExpand),b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);h(!0,d);g()},e.animationTimeoutUnit))},e.animationTimeoutUnit)},collapsePaymentOptions:function(f){a(n.swatch).removeClass(n.twisterPlusFadeIn);d.isLoaded||f||a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);a(n.expanderIcon).removeClass("rotate");b.delay(function(){a(n.expanderContent).removeClass(n.paymentOptionExpand);
a(n.expanderContent).removeClass(n.skeletonLoaderExpand);k(f)},e.animationTimeoutUnit);c(n.toggleExpanderButton,!1);b.$(n.refreshCCText).hasClass("a-hidden")||b.$(n.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:k,showSubtitleInExpandedView:h,scrollToShowCompleteExpander:g}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,d,e,
f,l){var m=!1,g=function(){var g=document.getElementById("payment-options-expander-header"),k=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(g){if(g=k)g=f.getRenderedFeaturesList(),k=g[0]===l.featureRegistration.featureName,g=1===g.length&&k;g&&(g=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),g.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:g}),e.increment("Expander:AutoExpanded"),
m=!0)}};g();b.on("a:pageUpdate",g);return{isAutoExpanded:m}});"use strict";q.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,
d,e,f){var l=b.$,m=!f.expTreatment||"T3"===f.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(g){if("keydown"!==g.type||13===g.$event.keyCode||32===g.$event.keyCode){e.increment("Swatch:OneTimePayment:Click");b.trigger("a:declarative:select-payment-option:click",{data:{}});var h=l(g.$currentTarget);h!==r&&null!==h&&(d.updateDefaultOptionSubtitle(g.data.defaultPOSubtitle,g.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",g),m||f.collapseCard())}});
b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(d){if("keydown"!==d.type||13===d.$event.keyCode||32===d.$event.keyCode){var h=l(d.$currentTarget);h!==r&&null!==h&&(b.trigger("a:declarative:monthly-payment-option-selection:click",d),m||f.collapseCard(),e.logNexusEventForMonthlyPaymentSelection(d))}});b.declarative("payment-options-overflow","click",function(b){d.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var e=
l(b.$currentTarget);e!==r&&null!==e&&d.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?d.updateSwatchStyle(b.data.selectedPaymentOptionId):(d.updateSwatchStyle(b.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){d.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){d.enableSwatch(b.$currentTarget)})});
"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,d,e,f){function l(b){h(k.swatchOption).removeClass(k.selectedOption);var c=h(k.swatchActionButton);c&&c.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?h(k.oneTimePaymentOption):h("#"+b+"Swatch");b.addClass(k.selectedOption);(b=b.closest(k.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function m(a){a.addClass(c.hideSwatchMainViewClass)}
function g(a,b){a.removeClass(c.hideSwatchMainViewClass);l(b);f.paymentOptionSelected.paymentOptionSelectedButtonId=b;f.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var h=b.$,k=e.selector,c=e.classes,a=e.attributes,n=d.expanderSubtitle;return{updateSwatchStyle:l,updateDefaultOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=b;h(k.subtitleText).text(b);h(k.subtitle).removeClass("a-color-success");h(k.subtitle).addClass("a-color-tertiary");
h(k.checkmark).addClass("a-hidden");h(k.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=a;h(k.subtitleText).text(a);h(k.subtitle).removeClass("a-color-tertiary");h(k.subtitle).addClass("a-color-success");h(k.checkmark).removeClass("a-hidden");h(k.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(k.financingOptions);b.removeClass(k.selectedOption);b.addClass(k.unavailableOption);a.addClass(k.disabledSwatch)},enableSwatch:function(a){a.find(k.financingOptions).removeClass(k.unavailableOption);a.removeClass(k.disabledSwatch)},manageOverflow:function(a){f.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=h("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(c.hideSwatchMainViewClass)){for(var d=h(c.paymentOptionsList)[0].children,
e="",k=d.length-2;0<=k;k--)if(!h(d[k]).hasClass(c.hideSwatchMainViewClass)){e=h(d[k]);break}m(e);g(b,a.data.paymentOptionSelectButtonId)}else l(a.data.paymentOptionSelectButtonId),f.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,f.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:m,unhideCorrespondingSwatch:g,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=h(c.paymentOptionsList)[0].children;
a="";for(var d=b.length-2;0<=d;d--)if(!h(b[d]).hasClass(c.hideSwatchMainViewClass)){a=h(b[d]);break}b=h(h(h(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(k.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(m(a),h("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(c.hideSwatchMainViewClass))}}}});"use strict";q.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";q.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,d,e,f){var l=b.$;b.declarative("otp-selection","click",function(e){var g=l(e.$currentTarget[0].parentNode);e=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===g[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(f.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=e;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});b.declarative("monthly-payment-option-selection","click",function(e){e.data.hasOwnProperty("optionId")&&""!==e.data.optionId&&f.increment("Swatch:Financing:"+
e.data.optionId+":Click");f.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",e);var g=l(e.$currentTarget);if(g!==r&&null!==g){var g=e.data.posubtitle,h=e.data.cardImageUrl,k=l(e.$currentTarget[0].parentNode),c=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===k[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(e.data.hasOwnProperty("optionId")&&""!==e.data.optionId?f.increment("SideSheet:Financing:"+e.data.optionId+
":Click"):f.increment("SideSheet:Financing:"+e.data.executionInfo.offerType+":"+e.data.termType+":"+e.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:g,cardImageUrl:h}});b.trigger("a:declarative:payment-options-overflow:click",e)}});b.declarative("compare-payment-plans-disable",
"click",function(b){d.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var f=b.match(/\d+/g)[0],f="#"+e.disabledPaymentOptionSelecter+f;d.paymentOptionSelected.paymentOptionDisabledButtonId=b;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=l(f).text()});b.declarative("compare-payment-plans-enable","click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId=
"",l("#"+e.disabledPaymentOptionSelecter+b).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",l("[id\x3d"+e.popOverText+b+"cell]").removeClass(e.classes.popOverShowClass),l("[id\x3d"+e.popOverText+b+"cell]").addClass(e.classes.popOverHideClass))})});"use strict";q.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(b,d,e){b.declarative("payment-options-emp-action","change",function(b){d.updatePaymentOptionSelection(b.data)});
var f=b.debounce(function(){var d=b.$,f=d("#PaymentOptionsEmpAction");0<f.length&&f.trigger("change");0<d("#monthly-payments-not-applicable").length&&e.increment("Container:Render:Error");0<d(".payment-options-container").length&&e.increment("Container:Render:Success")},100);f();b.on("PageRefresh:ATF",f)});"use strict";q.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,d,e,f){var l=b.$;d=new d.Timer("Expander:Loading:Images:Time");
d.start();e=function(){b.loadDescendantImagesManually(l(".payment-options-financing-option-card-image"));b.loadDescendantImagesManually(l(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(l(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-comparison-group-container"));
b.loadDescendantImagesManually(l(".payment-options-comparison-sheet-comparison-card-option"))};e();b.on("a:pageUpdate",e);d.stop()});"use strict";q.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,d,e,f,l){function m(a){var b=a.executionInfo;b.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,
interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var g=b.$,h=e.selector,k=e.featureRegistration.featureName,
c;b.on("a:dropdown:selected:quantity",function(a){var n=g("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,q=g("#paymentOption_"+n+" .payment-options-list-item"),n=g("#paymentOption_"+n+" #oneTimePaymentOptionSwatch");a=a.value;for(var p=b.$(e.classSelector+h.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(h.monthlyPaymentAction),t=1;t<q.length;t++){var r=q.eq(t).find("span.a-declarative").data(h.monthlyPaymentAction),x=r.maxQuantity;
x&&(a>x?(d.disableSwatch(q.eq(t)),x={data:{paymentOptionUnAvailableMsg:r.unAvailableText,numberOfPaymentOptions:r.numberOfPaymentOptions,disabledPaymentOptionId:r.paymentOptionSelectButtonId}},f.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",x):d.disableOptionInCompareAllPlans(x),p&&r.offerGroup===p.offerGroup&&(g(n).click(),l.ccRemovedSelectionUpdate(k,m(r)),c=r.offerGroup)):(d.enableSwatch(q.eq(t)),f.getWeblabData().isComparePlansRefactorWeblabInT1?
b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:r.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(r.numberOfPaymentOptions),c&&r.offerGroup===c&&(g(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:q.eq(t).find("span.a-declarative"),data:r}),l.ccRemovedSelectionsClear(k))))}})});"use strict";q.when("A","price-block-ajax-weblab-trigger",
"price-block-ajax-constants").execute("price-block-ajax-rendering",function(b,d,e){var f=b.$;0<f(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab();var l=b.debounce(function(){0<f(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab()},1500);b.on("PageRefresh:ATF",l)});"use strict";q.when("A","ready").register("price-block-ajax-constants",function(b){return{COMPARE_PLAN_LINK_CLASS:".compare-plan-link"}});"use strict";q.when("A").register("price-block-ajax-weblab-trigger",function(b){var d=b.$;return{triggerWeblab:function(){if(t.ue&&
t.ue.trigger){var b=d("#priceBlockAjaxRenderingTreatment"),f=d('[data-action\x3d"price-block-compare-plans"]');b.length&&f.length&&(f=f.data("priceBlockComparePlans").customerId)&&"undef"!==f&&t.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799",b.data("treatment"))}}}});"use strict";q.when("A","payment-options-constants").register("payment-options-state",function(b,d){function e(){if(!l||0===Object.keys(l).length){var b=f(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);
b&&(l=JSON.parse(b))}return l}var f=b.$,l={};b={getWeblabData:e};e();return b});"use strict";q.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";q.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,d,e,f,l){var m={};b.declarative("open-priceblock-change-plan-modal",
"click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var e="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(m,e)||(m[e]=d.create(b.$target,{header:b.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));m[e].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");m["priceblock-change-plan-modal-"+
b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",function(g){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");g=e.paymentOptionOptOutSelected.changePlanEventData;for(var h=Object.keys(m),k=0;k<h.length;++k){var c=h[k];d.remove(c);delete m[c]}e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;h=b.copy(g);h.data.paymentOptionSelectButtonId=f.ONE_TIME_PAYMENT_OPTION_ID;b.trigger("a:declarative:price-block-otp-action:click",
h);g=b.copy(g);b.trigger("a:declarative:price-block-compare-payment-plans:click",g)})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,d,e){b.declarative("acquisition-offer-see-details","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;t.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",
1)}});b.declarative("acquisition-offer-learn-more","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;t.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",
function(b,d,e,f){function l(b){g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function m(b){g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var g=b.$,h=d.selector,k=d.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=h.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b+"01",l(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY);
b||(b=h.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,l(b));return b},getOptionNotSelectedString:function(){return g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:l,updateCheckboxPriceblockOptionNotSelectedString:m,updateCheckboxWithTopOffer:function(b){b=b.find(h.COMPARE_PLAN_LINK).find(h.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;b=f.getTopEnabledOfferDataInComparisonTable(b);l(d.ID_PREFIX+b.paymentOptionSelectButtonId);
m(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(h.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(h.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){g(c).click();g(a).click()})},triggerCheckboxUnCheckedActions:function(b){g(b).click()},hasCheckboxPriceblock:function(){return g(h.CHECKBOX_PRICE_BLOCK).length}}});"use strict";q.when("A").register("compare-plan-2_5-weblab-trigger",
function(b){return{triggerWeblab:function(){var d=b.$("#comparePlan2_5Treatment");t.ue&&t.ue.trigger&&d.length&&t.ue.trigger("PAYTECH_UFO_DP_COMPARE_PLAN2_5_1317666",d.data("treatment"))}}})});
/* ******** */
